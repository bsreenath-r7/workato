{
  "name": "Salesforce Jira-Case Association (Delete) - Update Jira Issue",
  "description": "When there is a trigger event, do action",
  "version": 35,
  "private": true,
  "concurrency": 1,
  "code": {
    "number": 0,
    "provider": "salesforce",
    "name": "sobject_deleted",
    "as": "a432c98f",
    "title": "Deleted Jira-Case Association",
    "description": "<span class=\"provider\">Jira-Case Association</span> deleted in <span class=\"provider\">Salesforce</span>",
    "keyword": "trigger",
    "dynamicPickListSelection": {
      "sobject_name": "Jira-Case Association"
    },
    "toggleCfg": {
    },
    "input": {
      "since": "2019-08-05T00:00:00-04:00",
      "sobject_name": "JiraCaseAssociation__c"
    },
    "extended_output_schema": [
      {
        "type": "string",
        "name": "CreatedById",
        "control_type": "text",
        "label": "Created By ID",
        "optional": true,
        "custom": false,
        "foreign_key": "User",
        "fetch_with": "get_custom_object(id, sobject_name: User)",
        "join_point_label": "Created  by",
        "sfdc_createable": true,
        "sfdc_updateable": false
      },
      {
        "type": "object",
        "name": "get_custom_object+CreatedById",
        "label": "Created  by",
        "properties": [

        ],
        "fetch_with": "get_custom_object(CreatedById>id, sobject_name: User)",
        "join_point": true
      },
      {
        "type": "date_time",
        "name": "CreatedDate",
        "control_type": "date_time",
        "label": "Created Date",
        "optional": true,
        "custom": false,
        "render_input": "render_iso8601_timestamp",
        "parse_output": "parse_iso8601_timestamp",
        "sfdc_createable": true,
        "sfdc_updateable": false
      },
      {
        "type": "string",
        "name": "CurrencyIsoCode",
        "control_type": "select",
        "label": "Currency ISO Code",
        "pick_list": "sobject_field_values_list",
        "pick_list_params": {
          "sobject_name": "\"JiraCaseAssociation__c\""
        },
        "optional": true,
        "custom": false,
        "toggle_hint": "Select from list",
        "toggle_field": {
          "control_type": "text",
          "label": "Currency ISO Code",
          "toggle_hint": "Enter custom value",
          "optional": true,
          "custom": false,
          "sfdc_createable": true,
          "sfdc_updateable": true,
          "type": "string",
          "name": "CurrencyIsoCode"
        },
        "sfdc_createable": true,
        "sfdc_updateable": true
      },
      {
        "type": "boolean",
        "name": "IsDeleted",
        "control_type": "checkbox",
        "label": "Deleted",
        "optional": true,
        "custom": false,
        "toggle_hint": "Select from option list",
        "toggle_field": {
          "label": "Deleted",
          "control_type": "text",
          "toggle_hint": "Use custom value",
          "optional": true,
          "custom": false,
          "sfdc_createable": false,
          "sfdc_updateable": false,
          "type": "boolean",
          "name": "IsDeleted"
        },
        "render_input": {
        },
        "parse_output": {
        },
        "sfdc_createable": false,
        "sfdc_updateable": false
      },
      {
        "type": "string",
        "name": "Name",
        "control_type": "text",
        "label": "Jira-Case Association #",
        "optional": true,
        "custom": false,
        "event_title": true,
        "sfdc_createable": false,
        "sfdc_updateable": false
      },
      {
        "type": "string",
        "name": "LastModifiedById",
        "control_type": "text",
        "label": "Last Modified By ID",
        "optional": true,
        "custom": false,
        "foreign_key": "User",
        "fetch_with": "get_custom_object(id, sobject_name: User)",
        "join_point_label": "Last  modified  by",
        "sfdc_createable": true,
        "sfdc_updateable": false
      },
      {
        "type": "object",
        "name": "get_custom_object+LastModifiedById",
        "label": "Last  modified  by",
        "properties": [

        ],
        "fetch_with": "get_custom_object(LastModifiedById>id, sobject_name: User)",
        "join_point": true
      },
      {
        "type": "date_time",
        "name": "LastModifiedDate",
        "control_type": "date_time",
        "label": "Last Modified Date",
        "optional": true,
        "custom": false,
        "render_input": "render_iso8601_timestamp",
        "parse_output": "parse_iso8601_timestamp",
        "sfdc_createable": true,
        "sfdc_updateable": false
      },
      {
        "type": "string",
        "name": "Id",
        "control_type": "text",
        "label": "Record ID",
        "optional": true,
        "custom": false,
        "key_scope": "JiraCaseAssociation__c",
        "sfdc_createable": false,
        "sfdc_updateable": false
      },
      {
        "type": "date_time",
        "name": "SystemModstamp",
        "control_type": "date_time",
        "label": "System Modstamp",
        "optional": true,
        "custom": false,
        "render_input": "render_iso8601_timestamp",
        "parse_output": "parse_iso8601_timestamp",
        "sfdc_createable": false,
        "sfdc_updateable": false
      },
      {
        "type": "string",
        "name": "Case__c",
        "control_type": "text",
        "label": "Case",
        "custom": true,
        "foreign_key": "Case",
        "fetch_with": "get_custom_object(id, sobject_name: Case)",
        "join_point_label": "Case",
        "sfdc_createable": true,
        "sfdc_updateable": false
      },
      {
        "type": "object",
        "name": "get_custom_object+Case__c",
        "label": "Case",
        "properties": [

        ],
        "fetch_with": "get_custom_object(Case__c>id, sobject_name: Case)",
        "join_point": true
      },
      {
        "type": "string",
        "name": "Description__c",
        "control_type": "text-area",
        "label": "Description",
        "optional": true,
        "custom": true,
        "sfdc_createable": true,
        "sfdc_updateable": true
      },
      {
        "type": "string",
        "name": "Fix_Version__c",
        "control_type": "text",
        "label": "Fix Version",
        "optional": true,
        "custom": true,
        "sfdc_createable": true,
        "sfdc_updateable": true
      },
      {
        "type": "number",
        "name": "JiraNumber__c",
        "control_type": "number",
        "label": "Jira Number",
        "optional": true,
        "custom": true,
        "parse_output": "float_conversion",
        "sfdc_createable": true,
        "sfdc_updateable": true
      },
      {
        "type": "string",
        "name": "JiraProject__c",
        "control_type": "select",
        "label": "Jira Project",
        "pick_list": "sobject_field_values_list",
        "pick_list_params": {
          "sobject_name": "\"JiraCaseAssociation__c\""
        },
        "optional": true,
        "custom": true,
        "toggle_hint": "Select from list",
        "toggle_field": {
          "control_type": "text",
          "label": "Jira Project",
          "toggle_hint": "Enter custom value",
          "optional": true,
          "custom": true,
          "sfdc_createable": true,
          "sfdc_updateable": true,
          "type": "string",
          "name": "JiraProject__c"
        },
        "sfdc_createable": true,
        "sfdc_updateable": true
      },
      {
        "type": "string",
        "name": "JiraTicket__c",
        "control_type": "text",
        "label": "Jira Ticket",
        "optional": true,
        "custom": true,
        "sfdc_createable": false,
        "sfdc_updateable": false
      },
      {
        "type": "string",
        "name": "LinktorecordinJira__c",
        "control_type": "url",
        "label": "Link to record in Jira",
        "optional": true,
        "custom": true,
        "sfdc_createable": true,
        "sfdc_updateable": true
      },
      {
        "type": "string",
        "name": "Project__c",
        "control_type": "text",
        "label": "Project",
        "optional": true,
        "custom": true,
        "sfdc_createable": true,
        "sfdc_updateable": true
      },
      {
        "type": "string",
        "name": "Status__c",
        "control_type": "text",
        "label": "Status",
        "optional": true,
        "custom": true,
        "sfdc_createable": true,
        "sfdc_updateable": true
      },
      {
        "type": "string",
        "name": "Title__c",
        "control_type": "text",
        "label": "Title",
        "optional": true,
        "custom": true,
        "sfdc_createable": true,
        "sfdc_updateable": true
      }
    ],
    "block": [
      {
        "number": 1,
        "keyword": "try",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
        },
        "block": [
          {
            "number": 2,
            "provider": "workato_service",
            "name": "call_service",
            "as": "8e51ad20",
            "title": null,
            "description": "Call recipe <span class=\"provider\">Callable - Salesforce Jira-Case Association (Delete) - Update Jira Issue</span> ",
            "keyword": "action",
            "dynamicPickListSelection": {
              "flow_id": "Callable - Salesforce Jira-Case Association (Delete) - Update Jira Issue"
            },
            "toggleCfg": {
            },
            "input": {
              "flow_id": {
                "zip_name": "salesforce/callable/callable_salesforce_jira_case_association_delete_update_jira_issue.recipe.json",
                "name": "Callable - Salesforce Jira-Case Association (Delete) - Update Jira Issue",
                "folder": "salesforce/callable"
              },
              "request": {
                "JIRA_ticket": "#{_('data.salesforce.a432c98f.JiraTicket__c')}",
                "Case_Number": "#{_('data.salesforce.a432c98f.get_custom_object(Case__c>id, sobject_name: Case).CaseNumber')}"
              }
            },
            "extended_input_schema": [
              {
                "type": "object",
                "name": "request",
                "label": "Recipe input",
                "properties": [
                  {
                    "control_type": "text",
                    "label": "JIRA ticket",
                    "name": "JIRA_ticket",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "Case number",
                    "name": "Case_Number",
                    "type": "string",
                    "optional": false
                  }
                ]
              }
            ],
            "uuid": "798c2c2f-efe4-4be3-9e65-40ba1c2d7f3f"
          },
          {
            "number": 3,
            "as": "4940fab4",
            "keyword": "catch",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "max_retry_count": "0",
              "retry_interval": "2"
            },
            "block": [
              {
                "number": 4,
                "keyword": "if",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "type": "compound",
                  "operand": "and",
                  "conditions": [
                    {
                      "operand": "not_contains",
                      "lhs": "#{_('data.catch.4940fab4.message')}",
                      "rhs": "cannot be set",
                      "uuid": "condition-726b4ab9-381f-470d-939a-e76d934b73b1"
                    }
                  ]
                },
                "block": [
                  {
                    "number": 5,
                    "keyword": "stop",
                    "dynamicPickListSelection": {
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "stop_with_error": "true",
                      "stop_reason": "#{_('data.catch.4940fab4.message')}"
                    },
                    "uuid": "e4fc3e57-14cc-4288-a6eb-b57816a9cb98",
                    "skip": false
                  }
                ],
                "uuid": "9cbe176f-5b66-4e89-bc68-1e1d5509bd3e",
                "skip": false
              }
            ],
            "uuid": "b277f8c1-26f8-40f8-b31c-e7317c319467"
          }
        ],
        "uuid": "34269c1b-3054-4346-9c4c-84955d5fe0ce"
      }
    ],
    "job_report_schema": [
      {
        "name": "custom_column_1",
        "label": "Case Number"
      },
      {
        "name": "custom_column_2",
        "label": "Jira Key"
      },
      {
        "name": "custom_column_3",
        "label": "Original Support Link"
      },
      {
        "name": "custom_column_4",
        "label": "New Support Link"
      }
    ],
    "job_report_config": {
      "custom_column_1": "#{_('data.salesforce.a432c98f.get_custom_object(Case__c>id, sobject_name: Case).CaseNumber')}",
      "custom_column_2": "#{_('data.salesforce.a432c98f.JiraTicket__c')}",
      "custom_column_3": "#{_('data.jira.e924e746.issues.first.fields.customfield_10775')}",
      "custom_column_4": "=_('data.workato_variable.0a5b1b51.value').present? ? _('data.workato_variable.0a5b1b51.value') : \"no change made\""
    },
    "uuid": "69d8bd19-dc6e-4c5f-8ad0-144b12166d40"
  },
  "config": [
    {
      "keyword": "application",
      "provider": "salesforce",
      "account_id": {
        "zip_name": "connections/salesforce.connection.json",
        "name": "Salesforce",
        "folder": "connections"
      },
      "skip_validation": false
    },
    {
      "keyword": "application",
      "provider": "workato_service",
      "skip_validation": false,
      "account_id": null
    }
  ]
}