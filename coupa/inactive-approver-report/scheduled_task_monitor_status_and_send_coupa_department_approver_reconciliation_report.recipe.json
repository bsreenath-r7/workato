{
  "name": "Scheduled Task - Monitor Status and Send Coupa Department Approver Reconciliation Report",
  "description": "When there is a new or updated object in Coupa, do action",
  "version": 1,
  "private": true,
  "concurrency": 1,
  "code": {
    "number": 0,
    "provider": "clock",
    "name": "timer",
    "as": "c03ac4aa",
    "title": null,
    "description": null,
    "keyword": "trigger",
    "dynamicPickListSelection": {
    },
    "toggleCfg": {
    },
    "input": {
      "interval": "5"
    },
    "block": [
      {
        "number": 1,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "e6dd4f2a",
        "title": "Create variable status",
        "description": "Create variable <span class=\"provider\">status</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "string",
          "name": "status",
          "value": "initializing"
        },
        "extended_output_schema": [
          {
            "type": "string",
            "name": "value",
            "control_type": "text",
            "label": "status"
          }
        ],
        "extended_input_schema": [
          {
            "type": "string",
            "name": "value",
            "control_type": "text",
            "label": "Default value",
            "hint": "Default value for the variable",
            "sticky": true,
            "optional": true,
            "strip_interpolation": true
          }
        ],
        "comment": "Create a variable to output the status to the job history page",
        "uuid": "f3999ee3-d86c-42e5-8887-72971bfc7af7"
      },
      {
        "number": 2,
        "provider": "lookup_table",
        "name": "search_entries",
        "as": "6feb9c87",
        "title": null,
        "description": "\n      Search\n      <span class=\"provider\">entries</span>\n      in\n      <span class=\"provider\">COUPA_VARIABLES</span>\n      lookup table\n    ",
        "keyword": "action",
        "dynamicPickListSelection": {
          "lookup_table_id": "COUPA_VARIABLES"
        },
        "toggleCfg": {
        },
        "input": {
          "lookup_table_id": {
            "zip_name": "coupa_variables.lookup_table.json",
            "name": "COUPA_VARIABLES",
            "folder": ""
          },
          "parameters": {
            "col1": "inactive_approver_report.fetch_dynDepartment.status"
          }
        },
        "extended_output_schema": [
          {
            "type": "array",
            "name": "entries",
            "label": "Entries",
            "of": "object",
            "properties": [
              {
                "control_type": "number",
                "label": "Entry ID",
                "parse_output": "integer_conversion",
                "type": "integer",
                "name": "id"
              },
              {
                "properties": [
                  {
                    "control_type": "text",
                    "label": "key",
                    "name": "col1",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "value",
                    "name": "col2",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "type",
                    "name": "col3",
                    "type": "string",
                    "sticky": true
                  }
                ],
                "label": "Entry",
                "type": "object",
                "name": "entry"
              }
            ]
          }
        ],
        "extended_input_schema": [
          {
            "type": "object",
            "name": "parameters",
            "label": "Search by",
            "hint": "Provide one or more entry fields to search the entry",
            "properties": [
              {
                "control_type": "text",
                "label": "key",
                "name": "col1",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "value",
                "name": "col2",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "type",
                "name": "col3",
                "type": "string",
                "sticky": true,
                "optional": true
              }
            ]
          }
        ],
        "visible_config_fields": [
          "lookup_table_id",
          "parameters.col1"
        ],
        "hidden_config_fields": [
          "parameters.col2",
          "parameters.col3"
        ],
        "comment": "Get the status of fetching all the DynDepartments from Coupa",
        "uuid": "e1dac64d-91c3-41f1-8700-bf48ca9814ab"
      },
      {
        "number": 3,
        "keyword": "if",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "compound",
          "operand": "and",
          "conditions": [
            {
              "operand": "equals_to",
              "lhs": "#{_('data.lookup_table.6feb9c87.entries.first.entry.col2')}",
              "rhs": "pending"
            }
          ]
        },
        "block": [
          {
            "number": 4,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "bbb69cd1",
            "title": "Update variable status",
            "description": "Update variable <span class=\"provider\">status</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "status (step 1)"
            },
            "toggleCfg": {
            },
            "input": {
              "name": "f3999ee3-d86c-42e5-8887-72971bfc7af7:e6dd4f2a",
              "value": "waiting for all dyn departments to be captured from Coupa"
            },
            "extended_input_schema": [
              {
                "type": "string",
                "name": "value",
                "control_type": "text",
                "label": "Value",
                "hint": "Provide value for the variable",
                "strip_interpolation": true
              }
            ],
            "uuid": "d711ba65-3caf-4120-90a7-98dd19208621"
          },
          {
            "number": 5,
            "keyword": "stop",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "stop_with_error": "false"
            },
            "comment": "Stop this job since all the DynDepartments have not been fetched",
            "uuid": "766766fe-515f-4c1a-b778-da8ff2ac6360"
          }
        ],
        "uuid": "3c1d7a15-cb0f-4504-a271-18c16d46020d"
      },
      {
        "number": 6,
        "provider": "lookup_table",
        "name": "search_entries",
        "as": "b00197f3",
        "title": null,
        "description": "\n      Search\n      <span class=\"provider\">entries</span>\n      in\n      <span class=\"provider\">NETSUITE_VARIABLES</span>\n      lookup table\n    ",
        "keyword": "action",
        "dynamicPickListSelection": {
          "lookup_table_id": "NETSUITE_VARIABLES"
        },
        "toggleCfg": {
        },
        "input": {
          "lookup_table_id": {
            "zip_name": "netsuite_variables.lookup_table.json",
            "name": "NETSUITE_VARIABLES",
            "folder": ""
          },
          "parameters": {
            "col1": "inactive_approver_report.inactive_employees.total_pages"
          }
        },
        "extended_output_schema": [
          {
            "type": "array",
            "name": "entries",
            "label": "Entries",
            "of": "object",
            "properties": [
              {
                "control_type": "number",
                "label": "Entry ID",
                "parse_output": "integer_conversion",
                "type": "integer",
                "name": "id"
              },
              {
                "properties": [
                  {
                    "control_type": "text",
                    "label": "key",
                    "name": "col1",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "value",
                    "name": "col2",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "type",
                    "name": "col3",
                    "type": "string",
                    "sticky": true
                  }
                ],
                "label": "Entry",
                "type": "object",
                "name": "entry"
              }
            ]
          }
        ],
        "extended_input_schema": [
          {
            "type": "object",
            "name": "parameters",
            "label": "Search by",
            "hint": "Provide one or more entry fields to search the entry",
            "properties": [
              {
                "control_type": "text",
                "label": "key",
                "name": "col1",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "value",
                "name": "col2",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "type",
                "name": "col3",
                "type": "string",
                "sticky": true,
                "optional": true
              }
            ]
          }
        ],
        "visible_config_fields": [
          "lookup_table_id",
          "parameters.col1"
        ],
        "hidden_config_fields": [
          "parameters.col2",
          "parameters.col3"
        ],
        "comment": "Get the expected total number of pages of inactive employees from NetSuite",
        "uuid": "cbc7b64b-113a-4de9-b9b5-e123fe15e1d7"
      },
      {
        "number": 7,
        "provider": "lookup_table",
        "name": "search_entries",
        "as": "610ce97d",
        "title": null,
        "description": "\n      Search\n      <span class=\"provider\">entries</span>\n      in\n      <span class=\"provider\">NETSUITE_VARIABLES</span>\n      lookup table\n    ",
        "keyword": "action",
        "dynamicPickListSelection": {
          "lookup_table_id": "NETSUITE_VARIABLES"
        },
        "toggleCfg": {
        },
        "input": {
          "lookup_table_id": {
            "zip_name": "netsuite_variables.lookup_table.json",
            "name": "NETSUITE_VARIABLES",
            "folder": ""
          },
          "parameters": {
            "col1": "inactive_approver_report.inactive_employees.page_complete"
          }
        },
        "extended_output_schema": [
          {
            "type": "array",
            "name": "entries",
            "label": "Entries",
            "of": "object",
            "properties": [
              {
                "control_type": "number",
                "label": "Entry ID",
                "parse_output": "integer_conversion",
                "type": "integer",
                "name": "id"
              },
              {
                "properties": [
                  {
                    "control_type": "text",
                    "label": "key",
                    "name": "col1",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "value",
                    "name": "col2",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "type",
                    "name": "col3",
                    "type": "string",
                    "sticky": true
                  }
                ],
                "label": "Entry",
                "type": "object",
                "name": "entry"
              }
            ]
          }
        ],
        "extended_input_schema": [
          {
            "type": "object",
            "name": "parameters",
            "label": "Search by",
            "hint": "Provide one or more entry fields to search the entry",
            "properties": [
              {
                "control_type": "text",
                "label": "key",
                "name": "col1",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "value",
                "name": "col2",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "type",
                "name": "col3",
                "type": "string",
                "sticky": true,
                "optional": true
              }
            ]
          }
        ],
        "visible_config_fields": [
          "lookup_table_id",
          "parameters.col1"
        ],
        "hidden_config_fields": [
          "parameters.col2",
          "parameters.col3"
        ],
        "comment": "Get the number of pages of inactive employees from NetSuite that have been processed",
        "uuid": "c0735c41-09bb-4b9d-89bd-e99ccfb69a54"
      },
      {
        "number": 8,
        "keyword": "if",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "compound",
          "operand": "or",
          "conditions": [
            {
              "operand": "equals_to",
              "lhs": "#{_('data.lookup_table.b00197f3.entries.first.entry.col2')}",
              "rhs": "pending"
            },
            {
              "operand": "not_equals_to",
              "lhs": "#{_('data.lookup_table.b00197f3.entries.first.entry.col2')}",
              "rhs": "#{_('data.lookup_table.610ce97d.entries.first.____Size', 'list_meta', '____Size', 'data.lookup_table.610ce97d.entries')}"
            }
          ]
        },
        "block": [
          {
            "number": 9,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "5a934f45",
            "title": "Update variable status",
            "description": "Update variable <span class=\"provider\">status</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "status (step 1)"
            },
            "toggleCfg": {
            },
            "input": {
              "name": "f3999ee3-d86c-42e5-8887-72971bfc7af7:e6dd4f2a",
              "value": "waiting for all inactive employees to be fetched from NetSuite"
            },
            "extended_input_schema": [
              {
                "type": "string",
                "name": "value",
                "control_type": "text",
                "label": "Value",
                "hint": "Provide value for the variable",
                "strip_interpolation": true
              }
            ],
            "uuid": "ff587b4d-d3bd-4848-b8ac-70ef860f4fc0"
          },
          {
            "number": 10,
            "keyword": "stop",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "stop_with_error": "false"
            },
            "comment": "Stop this job since all the inactive employees have not been fetched",
            "uuid": "78c1552f-be58-4630-b0de-5932984f1d6e"
          }
        ],
        "comment": "If the expected total number of pages does not equal the number of pages that have been processed, then stop this job",
        "uuid": "b6d13d91-8696-4254-9b7a-48dbc1b5ee8c"
      },
      {
        "number": 11,
        "provider": "workato_variable",
        "name": "update_variable",
        "as": "76e2f04c",
        "title": "Update variable status",
        "description": "Update variable <span class=\"provider\">status</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
          "name": "status (step 1)"
        },
        "toggleCfg": {
        },
        "input": {
          "name": "f3999ee3-d86c-42e5-8887-72971bfc7af7:e6dd4f2a",
          "value": "comparing Coupa approvers to inactive employees"
        },
        "extended_input_schema": [
          {
            "type": "string",
            "name": "value",
            "control_type": "text",
            "label": "Value",
            "hint": "Provide value for the variable",
            "strip_interpolation": true
          }
        ],
        "uuid": "bd599643-8f33-4e51-8d40-d1d48d3fd17d"
      },
      {
        "number": 12,
        "provider": "workato_variable",
        "name": "declare_list",
        "as": "d4f0a3a2",
        "title": "Create UserReconciliationList list",
        "description": "Create <span class=\"provider\">UserReconciliationList</span> list",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "name": "UserReconciliationList",
          "list_item_schema_json": "[{\"name\":\"DynDepartment\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"},{\"name\":\"Approver_Name\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"},{\"name\":\"Netusuite_Employee_ID\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"}]"
        },
        "extended_output_schema": [
          {
            "type": "array",
            "name": "list_items",
            "label": "UserReconciliationList",
            "of": "object",
            "properties": [
              {
                "control_type": "text",
                "label": "Dyn department",
                "name": "DynDepartment",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "Approver name",
                "name": "Approver_Name",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "Netusuite employee ID",
                "name": "Netusuite_Employee_ID",
                "type": "string",
                "optional": false
              }
            ]
          }
        ],
        "uuid": "db8f1185-1230-42d7-8840-c95d3bc31d6e"
      },
      {
        "number": 13,
        "provider": "lookup_table",
        "name": "search_entries",
        "as": "a867310f",
        "title": null,
        "description": "\n      Search\n      <span class=\"provider\">entries</span>\n      in\n      <span class=\"provider\">COUPA_DYN-DEPARTMENT_APPROVERS</span>\n      lookup table\n    ",
        "keyword": "action",
        "dynamicPickListSelection": {
          "lookup_table_id": "COUPA_DYN-DEPARTMENT_APPROVERS"
        },
        "toggleCfg": {
        },
        "input": {
          "lookup_table_id": {
            "zip_name": "coupa_dyn_department_approvers.lookup_table.json",
            "name": "COUPA_DYN-DEPARTMENT_APPROVERS",
            "folder": ""
          },
          "parameters": {
            "col1": "1"
          }
        },
        "extended_output_schema": [
          {
            "type": "array",
            "name": "entries",
            "label": "Entries",
            "of": "object",
            "properties": [
              {
                "control_type": "number",
                "label": "Entry ID",
                "parse_output": "integer_conversion",
                "type": "integer",
                "name": "id"
              },
              {
                "properties": [
                  {
                    "control_type": "text",
                    "label": "selectAll",
                    "name": "col1",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "department_name",
                    "name": "col2",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "approvers",
                    "name": "col3",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "",
                    "name": "col4",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "",
                    "name": "col5",
                    "type": "string",
                    "sticky": true
                  }
                ],
                "label": "Entry",
                "type": "object",
                "name": "entry"
              }
            ]
          }
        ],
        "extended_input_schema": [
          {
            "type": "object",
            "name": "parameters",
            "label": "Search by",
            "hint": "Provide one or more entry fields to search the entry",
            "properties": [
              {
                "control_type": "text",
                "label": "selectAll",
                "name": "col1",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "department_name",
                "name": "col2",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "approvers",
                "name": "col3",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "",
                "name": "col4",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "",
                "name": "col5",
                "type": "string",
                "sticky": true,
                "optional": true
              }
            ]
          }
        ],
        "visible_config_fields": [
          "lookup_table_id",
          "parameters.col1"
        ],
        "hidden_config_fields": [
          "parameters.col2",
          "parameters.col3",
          "parameters.col4",
          "parameters.col5"
        ],
        "comment": "Get all the DynDepartment Approvers",
        "uuid": "a8d1089d-6a65-43e1-bdfa-b9c38724ddba"
      },
      {
        "number": 14,
        "as": "1e65a072",
        "keyword": "foreach",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "clear_scope": "true",
        "input": {
        },
        "block": [
          {
            "number": 15,
            "provider": "workato_list",
            "name": "create_list",
            "as": "39e4fc85",
            "title": null,
            "description": null,
            "keyword": "action",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "size": "10"
            },
            "comment": "Create a helper list to loop through all 10 types of approvers.  The order of approvers is  Finance Approver, Dept Approver 1, Dept Approver 2, Dept Approver 3, CFO Approver, CEO Approver, Intl Dept Approver 1, Intl Dept Approver 2, Intl Dept Approver 3, Buyer Approval.",
            "uuid": "3c9aee20-4325-492f-ad3d-9eefe3729b00"
          },
          {
            "number": 16,
            "as": "c3719d7c",
            "keyword": "foreach",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "clear_scope": "true",
            "input": {
            },
            "block": [
              {
                "number": 17,
                "provider": "workato_variable",
                "name": "declare_variable",
                "as": "9008bd09",
                "title": "Create variable approver_internal_id",
                "description": "Create variable <span class=\"provider\">approver_internal_id</span>",
                "keyword": "action",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "type": "string",
                  "name": "approver_internal_id",
                  "value": "=_('data.foreach.1e65a072.entry.col3').split(\";\")[_('data.foreach.c3719d7c.index', 'foreach_meta')]"
                },
                "extended_output_schema": [
                  {
                    "type": "string",
                    "name": "value",
                    "control_type": "text",
                    "label": "approver_internal_id"
                  }
                ],
                "extended_input_schema": [
                  {
                    "type": "string",
                    "name": "value",
                    "control_type": "text",
                    "label": "Default value",
                    "hint": "Default value for the variable",
                    "sticky": true,
                    "optional": true,
                    "strip_interpolation": true
                  }
                ],
                "uuid": "31709eb9-6790-491b-ba35-dacf35d9327c"
              },
              {
                "number": 18,
                "keyword": "if",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "type": "compound",
                  "operand": "and",
                  "conditions": [
                    {
                      "operand": "present",
                      "lhs": "#{_('data.workato_variable.9008bd09.value')}",
                      "rhs": null
                    }
                  ]
                },
                "block": [
                  {
                    "number": 19,
                    "provider": "lookup_table",
                    "name": "search_entries",
                    "as": "da9c7e73",
                    "title": null,
                    "description": "\n      Search\n      <span class=\"provider\">entries</span>\n      in\n      <span class=\"provider\">NETSUITE_INACTIVE_EMPLOYEES</span>\n      lookup table\n    ",
                    "keyword": "action",
                    "dynamicPickListSelection": {
                      "lookup_table_id": "NETSUITE_INACTIVE_EMPLOYEES"
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "lookup_table_id": {
                        "zip_name": "netsuite_inactive_employees.lookup_table.json",
                        "name": "NETSUITE_INACTIVE_EMPLOYEES",
                        "folder": ""
                      },
                      "parameters": {
                        "col2": "#{_('data.workato_variable.9008bd09.value')}"
                      }
                    },
                    "extended_output_schema": [
                      {
                        "type": "array",
                        "name": "entries",
                        "label": "Entries",
                        "of": "object",
                        "properties": [
                          {
                            "control_type": "number",
                            "label": "Entry ID",
                            "parse_output": "integer_conversion",
                            "type": "integer",
                            "name": "id"
                          },
                          {
                            "properties": [
                              {
                                "control_type": "text",
                                "label": "selectAll",
                                "name": "col1",
                                "type": "string",
                                "sticky": true
                              },
                              {
                                "control_type": "text",
                                "label": "internalid",
                                "name": "col2",
                                "type": "string",
                                "sticky": true
                              },
                              {
                                "control_type": "text",
                                "label": "name",
                                "name": "col3",
                                "type": "string",
                                "sticky": true
                              },
                              {
                                "control_type": "text",
                                "label": "email",
                                "name": "col4",
                                "type": "string",
                                "sticky": true
                              },
                              {
                                "control_type": "text",
                                "label": "isInactive",
                                "name": "col5",
                                "type": "string",
                                "sticky": true
                              }
                            ],
                            "label": "Entry",
                            "type": "object",
                            "name": "entry"
                          }
                        ]
                      }
                    ],
                    "extended_input_schema": [
                      {
                        "type": "object",
                        "name": "parameters",
                        "label": "Search by",
                        "hint": "Provide one or more entry fields to search the entry",
                        "properties": [
                          {
                            "control_type": "text",
                            "label": "selectAll",
                            "name": "col1",
                            "type": "string",
                            "sticky": true,
                            "optional": true
                          },
                          {
                            "control_type": "text",
                            "label": "internalid",
                            "name": "col2",
                            "type": "string",
                            "sticky": true,
                            "optional": true
                          },
                          {
                            "control_type": "text",
                            "label": "name",
                            "name": "col3",
                            "type": "string",
                            "sticky": true,
                            "optional": true
                          },
                          {
                            "control_type": "text",
                            "label": "email",
                            "name": "col4",
                            "type": "string",
                            "sticky": true,
                            "optional": true
                          },
                          {
                            "control_type": "text",
                            "label": "isInactive",
                            "name": "col5",
                            "type": "string",
                            "sticky": true,
                            "optional": true
                          }
                        ]
                      }
                    ],
                    "visible_config_fields": [
                      "lookup_table_id",
                      "parameters",
                      "parameters.col2"
                    ],
                    "hidden_config_fields": [
                      "parameters.col1",
                      "parameters.col3",
                      "parameters.col4",
                      "parameters.col5"
                    ],
                    "comment": "Search the NetSuite Inactive Employees to see if this approver is inactive",
                    "uuid": "39d65528-170a-4bd5-a7cb-b65909343cad"
                  },
                  {
                    "number": 20,
                    "keyword": "if",
                    "dynamicPickListSelection": {
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "type": "compound",
                      "operand": "and",
                      "conditions": [
                        {
                          "operand": "present",
                          "lhs": "#{_('data.lookup_table.da9c7e73.entries.first.id')}",
                          "rhs": null
                        }
                      ]
                    },
                    "block": [
                      {
                        "number": 21,
                        "provider": "workato_variable",
                        "name": "insert_to_list",
                        "as": "398a9dca",
                        "title": "Add item to UserReconciliationList list",
                        "description": "Add <span class=\"provider\">item</span> to <span class=\"provider\">UserReconciliationList</span> list",
                        "keyword": "action",
                        "dynamicPickListSelection": {
                          "name": "UserReconciliationList (step 4)"
                        },
                        "toggleCfg": {
                        },
                        "input": {
                          "location": "end",
                          "name": "db8f1185-1230-42d7-8840-c95d3bc31d6e:d4f0a3a2",
                          "list_item": {
                            "DynDepartment": "#{_('data.foreach.1e65a072.entry.col2')}",
                            "Approver_Name": "#{_('data.lookup_table.da9c7e73.entries.first.entry.col3')}",
                            "Netusuite_Employee_ID": "#{_('data.lookup_table.da9c7e73.entries.first.entry.col2')}"
                          }
                        },
                        "extended_input_schema": [
                          {
                            "type": "object",
                            "name": "list_item",
                            "label": "List item",
                            "properties": [
                              {
                                "control_type": "text",
                                "label": "Dyn department",
                                "name": "DynDepartment",
                                "type": "string",
                                "optional": false
                              },
                              {
                                "control_type": "text",
                                "label": "Approver name",
                                "name": "Approver_Name",
                                "type": "string",
                                "optional": false
                              },
                              {
                                "control_type": "text",
                                "label": "Netusuite employee ID",
                                "name": "Netusuite_Employee_ID",
                                "type": "string",
                                "optional": false
                              }
                            ]
                          }
                        ],
                        "uuid": "8c543d18-0f62-4089-976d-c814bbf81bf3"
                      }
                    ],
                    "comment": "If the employee is inactive, add them to the list",
                    "uuid": "4e7cc369-bd12-4169-bdd6-d8c0b3a5d987"
                  }
                ],
                "comment": "If there is an approver of this type, check to see if the user is inactive",
                "uuid": "828af496-e88b-46dc-bb77-7150112cad80"
              }
            ],
            "source": "#{_('data.workato_list.39e4fc85.list')}",
            "uuid": "b2f7baa8-d05b-40b4-a76c-dc544a4deb24"
          }
        ],
        "source": "#{_('data.lookup_table.a867310f.entries')}",
        "uuid": "68959730-e48c-4f72-bb02-07d49ab17606"
      },
      {
        "number": 22,
        "provider": "workato_variable",
        "name": "update_variable",
        "as": "d5765176",
        "title": "Update variable status",
        "description": "Update variable <span class=\"provider\">status</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
          "name": "status (step 1)"
        },
        "toggleCfg": {
        },
        "input": {
          "name": "f3999ee3-d86c-42e5-8887-72971bfc7af7:e6dd4f2a",
          "value": "creating report"
        },
        "extended_input_schema": [
          {
            "type": "string",
            "name": "value",
            "control_type": "text",
            "label": "Value",
            "hint": "Provide value for the variable",
            "strip_interpolation": true
          }
        ],
        "uuid": "ba7e44a1-517e-4af7-b635-4209961eb542"
      },
      {
        "number": 23,
        "provider": "workato_template",
        "name": "create_document",
        "as": "fd512f7e",
        "title": null,
        "description": "Create <span class=\"provider\">message</span> using <span class=\"provider\">Email - Coupa_Netsuite User Reconciliation Report</span> template",
        "keyword": "action",
        "dynamicPickListSelection": {
          "template_id": "Email - Coupa_Netsuite User Reconciliation Report"
        },
        "toggleCfg": {
        },
        "input": {
          "template_id": {
            "zip_name": "email_coupa_inactive_approver_reconciliation_report.workato_template.json",
            "name": "Email - Coupa Inactive Approver Reconciliation Report",
            "folder": ""
          },
          "template_input": {
            "Report": {
              "____source": "#{_('data.workato_variable.d4f0a3a2.list_items')}",
              "DynDepartment": "#{_('data.workato_variable.d4f0a3a2.list_items.first.DynDepartment')}",
              "Approver_Name": "#{_('data.workato_variable.d4f0a3a2.list_items.first.Approver_Name')}",
              "Netsuite_Employee_ID": "#{_('data.workato_variable.d4f0a3a2.list_items.first.Netusuite_Employee_ID')}"
            }
          }
        },
        "extended_input_schema": [
          {
            "type": "object",
            "name": "template_input",
            "label": "Template input",
            "properties": [
              {
                "name": "Report",
                "type": "array",
                "of": "object",
                "label": "Report",
                "optional": false,
                "properties": [
                  {
                    "control_type": "text",
                    "label": "Dyn department",
                    "name": "DynDepartment",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "Approver name",
                    "name": "Approver_Name",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "Netsuite employee ID",
                    "name": "Netsuite_Employee_ID",
                    "type": "string",
                    "optional": false
                  }
                ]
              }
            ]
          }
        ],
        "uuid": "d7ae6b5b-5fff-4fd0-99d3-3d2501f3ed2e"
      },
      {
        "number": 24,
        "provider": "email",
        "name": "send_mail",
        "as": "0d09d014",
        "title": null,
        "description": null,
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "email_type": "html",
          "to": "=lookup(\"COUPA_VARIABLES\", key: \"inactive_approver_report.email\")[\"value\"]",
          "subject": "Coupa - Inactive Approvers Reconciliation Report",
          "body": "#{_('data.workato_template.fd512f7e.document')}"
        },
        "uuid": "5b0dd679-2a04-4243-b029-bd5451f0f336"
      },
      {
        "number": 25,
        "provider": "workato_variable",
        "name": "update_variable",
        "as": "de63e6c0",
        "title": "Update variable status",
        "description": "Update variable <span class=\"provider\">status</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
          "name": "status (step 1)"
        },
        "toggleCfg": {
        },
        "input": {
          "name": "f3999ee3-d86c-42e5-8887-72971bfc7af7:e6dd4f2a",
          "value": "report sent!"
        },
        "extended_input_schema": [
          {
            "type": "string",
            "name": "value",
            "control_type": "text",
            "label": "Value",
            "hint": "Provide value for the variable",
            "strip_interpolation": true
          }
        ],
        "uuid": "6da896b6-be79-4186-beea-a732f80b3b9f"
      },
      {
        "number": 26,
        "provider": "workato_app",
        "name": "stop_recipe",
        "as": "941fd123",
        "title": null,
        "description": null,
        "keyword": "action",
        "dynamicPickListSelection": {
          "recipe_id": "(Mike's Comments) Scheduled Task - Monitor Status and Send Coupa Department Approver Reconciliation Report"
        },
        "toggleCfg": {
          "recipe_id": false,
          "force_stop": true
        },
        "input": {
          "force_stop": "true",
          "recipe_id": "=lookup(\"COUPA_VARIABLES\", key: \"recipe.send_inactive_approver_report\")[\"value\"]"
        },
        "comment": "Report has been sent, we can stop the recipe now!",
        "uuid": "3c4a24dd-a05d-4dd7-a4dc-f46de0a6cf4d"
      }
    ],
    "job_report_schema": [
      {
        "name": "custom_column_1",
        "label": "Status"
      }
    ],
    "job_report_config": {
      "custom_column_1": "#{_('data.workato_variable.e6dd4f2a.value')}"
    },
    "uuid": "0f0d3d72-4dab-4a3c-b924-9050a69aa76c"
  },
  "config": [
    {
      "keyword": "application",
      "provider": "clock",
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_variable",
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_template",
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "email",
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "lookup_table",
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_list",
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_app",
      "account_id": {
        "zip_name": "resources/recipeops.connection.json",
        "name": "RecipeOps",
        "folder": "resources"
      }
    }
  ]
}