{
  "name": "Callable - Update PO Balance Totals",
  "description": "When there is a trigger event, do action",
  "version": 2,
  "private": true,
  "concurrency": 5,
  "code": {
    "number": 0,
    "provider": "workato_service",
    "name": "receive_request",
    "as": "d4599468",
    "title": null,
    "description": "New <span class=\"provider\">call</span> for <span class=\"provider\">Coupa - Calculate Total PO Remaining</span>",
    "keyword": "trigger",
    "dynamicPickListSelection": {
    },
    "toggleCfg": {
    },
    "input": {
      "service_name": "Coupa - Calculate Total PO Remaining",
      "request_schema_json": "[{\"control_type\":\"integer\",\"label\":\"Purchase Order ID\",\"parse_output\":\"integer_conversion\",\"name\":\"po_id\",\"type\":\"integer\",\"optional\":false},{\"control_type\":\"number\",\"label\":\"PO Total\",\"parse_output\":\"float_conversion\",\"name\":\"po_total\",\"type\":\"number\",\"optional\":false,\"hint\":\"total of the PO in the currency specified in the PO lines.  If the po_currency is \\\"accounting_currency\\\", this value is meaningless since it will have summed PO lines using different currencies\"},{\"control_type\":\"number\",\"label\":\"PO Accounting Total\",\"parse_output\":\"float_conversion\",\"name\":\"po_accounting_total\",\"type\":\"number\",\"optional\":false,\"hint\":\"total of the po using the accounting currency\"},{\"control_type\":\"text\",\"label\":\"PO Currency\",\"name\":\"po_currency\",\"type\":\"string\",\"optional\":false,\"hint\":\"will either be the currency of the PO lines (if they are all the same) or \\\"accounting_currency\\\" if the PO lines use different currencies\"},{\"name\":\"po_lines\",\"type\":\"array\",\"of\":\"object\",\"label\":\"PO Lines\",\"optional\":true,\"properties\":[{\"control_type\":\"integer\",\"label\":\"Purchase Order Line ID\",\"parse_output\":\"integer_conversion\",\"name\":\"po_line_id\",\"type\":\"integer\",\"optional\":true}]}]",
      "reply_schema_json": "[{\"name\":\"total_invoiced\",\"type\":\"number\",\"optional\":false,\"control_type\":\"number\"}]"
    },
    "extended_output_schema": [
      {
        "type": "object",
        "name": "request",
        "label": "Recipe input",
        "properties": [
          {
            "control_type": "integer",
            "label": "Purchase Order ID",
            "parse_output": "integer_conversion",
            "name": "po_id",
            "type": "integer",
            "optional": false
          },
          {
            "control_type": "number",
            "label": "PO Total",
            "parse_output": "float_conversion",
            "name": "po_total",
            "type": "number",
            "optional": false,
            "hint": "total of the PO in the currency specified in the PO lines.  If the po_currency is \"accounting_currency\", this value is meaningless since it will have summed PO lines using different currencies"
          },
          {
            "control_type": "number",
            "label": "PO Accounting Total",
            "parse_output": "float_conversion",
            "name": "po_accounting_total",
            "type": "number",
            "optional": false,
            "hint": "total of the po using the accounting currency"
          },
          {
            "control_type": "text",
            "label": "PO Currency",
            "name": "po_currency",
            "type": "string",
            "optional": false,
            "hint": "will either be the currency of the PO lines (if they are all the same) or \"accounting_currency\" if the PO lines use different currencies"
          },
          {
            "name": "po_lines",
            "type": "array",
            "of": "object",
            "label": "PO Lines",
            "optional": true,
            "properties": [
              {
                "control_type": "integer",
                "label": "Purchase Order Line ID",
                "parse_output": "integer_conversion",
                "name": "po_line_id",
                "type": "integer",
                "optional": true
              }
            ]
          }
        ]
      }
    ],
    "block": [
      {
        "number": 1,
        "as": "75a58b84",
        "keyword": "foreach",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "clear_scope": false,
        "input": {
        },
        "block": [
          {
            "number": 2,
            "provider": "workato_service",
            "name": "call_service",
            "as": "7dc143b6",
            "title": null,
            "description": "Call recipe <span class=\"provider\">Coupa - Calculate Total Invoiced Per PO Line</span> ",
            "keyword": "action",
            "dynamicPickListSelection": {
              "flow_id": "Coupa - Calculate Total Invoiced Per PO Line"
            },
            "toggleCfg": {
            },
            "input": {
              "flow_id": {
                "zip_name": "coupa/open-po-report/callable/callable_calculate_total_invoiced_per_po_line.recipe.json",
                "name": "Callable - Calculate Total Invoiced Per PO Line",
                "folder": "coupa/open-po-report/callable"
              },
              "request": {
                "po_line_id": "#{_('data.foreach.75a58b84.po_line_id')}"
              }
            },
            "extended_output_schema": [
              {
                "type": "object",
                "name": "reply",
                "label": "Reply",
                "properties": [
                  {
                    "control_type": "number",
                    "label": "Invoice Total for PO Line",
                    "parse_output": "float_conversion",
                    "name": "invoiced_total",
                    "type": "number",
                    "optional": false
                  },
                  {
                    "control_type": "number",
                    "label": "Invoice Accounting Total for PO Line",
                    "parse_output": "float_conversion",
                    "name": "invoiced_accounting_total",
                    "type": "number",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "Invoice Currency",
                    "name": "invoiced_currency",
                    "type": "string",
                    "optional": false,
                    "hint": "if all invoice lines use the same currency, then this will be the currency of the invoice lines.  If the currency is different, it will be \"accounting_currency\""
                  }
                ]
              }
            ],
            "extended_input_schema": [
              {
                "type": "object",
                "name": "request",
                "label": "Recipe input",
                "properties": [
                  {
                    "control_type": "integer",
                    "label": "Purchase Order Line ID",
                    "parse_output": "integer_conversion",
                    "name": "po_line_id",
                    "type": "integer",
                    "optional": false,
                    "parent": "request"
                  }
                ]
              }
            ],
            "uuid": "978b24eb-9345-42e3-8ad0-9e18ff3e7bb7"
          },
          {
            "number": 3,
            "keyword": "if",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "type": "compound",
              "operand": "and",
              "conditions": [
                {
                  "operand": "not_equals_to",
                  "lhs": "#{_('data.workato_service.7dc143b6.reply.invoiced_accounting_total')}",
                  "rhs": "0"
                }
              ]
            },
            "block": [
              {
                "number": 4,
                "provider": "workato_list",
                "name": "accumulate_list_items",
                "as": "4aadcb5c",
                "title": "Accumulate items to Purchase Order Invoiced Totals list",
                "description": "Accumulate <span class=\"provider\">items</span> to <span class=\"provider\">Purchase Order Invoiced Totals</span> list",
                "keyword": "action",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "name": "Purchase Order Invoiced Totals",
                  "list_item": {
                    "schema": "[{\"name\":\"po_id\",\"type\":\"integer\",\"optional\":true,\"label\":\"po_line_id\",\"control_type\":\"integer\"},{\"name\":\"total_invoiced\",\"type\":\"number\",\"optional\":true,\"label\":\"total_line_invoiced\",\"control_type\":\"number\"},{\"name\":\"accounting_total_line_invoiced\",\"type\":\"number\",\"optional\":true,\"label\":\"accounting_total_line_invoiced\",\"control_type\":\"number\"},{\"name\":\"invoice_line_currency\",\"type\":\"string\",\"optional\":true,\"label\":\"invoice_line_currency\",\"control_type\":\"text\"}]",
                    "data": {
                      "po_id": "#{_('data.foreach.75a58b84.po_line_id')}",
                      "total_invoiced": "#{_('data.workato_service.7dc143b6.reply.invoiced_total')}",
                      "accounting_total_line_invoiced": "#{_('data.workato_service.7dc143b6.reply.invoiced_accounting_total')}",
                      "invoice_line_currency": "#{_('data.workato_service.7dc143b6.reply.invoiced_currency')}"
                    }
                  }
                },
                "extended_output_schema": [
                  {
                    "type": "array",
                    "name": "list_items",
                    "label": "Items",
                    "of": "object",
                    "properties": [
                      {
                        "control_type": "integer",
                        "label": "po_line_id",
                        "parse_output": "integer_conversion",
                        "name": "po_id",
                        "type": "integer",
                        "optional": true
                      },
                      {
                        "control_type": "number",
                        "label": "total_line_invoiced",
                        "parse_output": "float_conversion",
                        "name": "total_invoiced",
                        "type": "number",
                        "optional": true
                      },
                      {
                        "control_type": "number",
                        "label": "accounting_total_line_invoiced",
                        "parse_output": "float_conversion",
                        "name": "accounting_total_line_invoiced",
                        "type": "number",
                        "optional": true
                      },
                      {
                        "control_type": "text",
                        "label": "invoice_line_currency",
                        "name": "invoice_line_currency",
                        "type": "string",
                        "optional": true
                      }
                    ]
                  }
                ],
                "extended_input_schema": [
                  {
                    "type": "object",
                    "name": "list_item",
                    "control_type": "form-schema-builder",
                    "label": "List item fields",
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "Schema",
                        "extends_schema": true,
                        "type": "string",
                        "name": "schema",
                        "parent": "list_item"
                      },
                      {
                        "properties": [
                          {
                            "control_type": "integer",
                            "label": "po_line_id",
                            "parse_output": "integer_conversion",
                            "name": "po_id",
                            "type": "integer",
                            "optional": true,
                            "parent": "list_item.data"
                          },
                          {
                            "control_type": "number",
                            "label": "total_line_invoiced",
                            "parse_output": "float_conversion",
                            "name": "total_invoiced",
                            "type": "number",
                            "optional": true,
                            "parent": "list_item.data"
                          },
                          {
                            "control_type": "number",
                            "label": "accounting_total_line_invoiced",
                            "parse_output": "float_conversion",
                            "name": "accounting_total_line_invoiced",
                            "type": "number",
                            "optional": true,
                            "parent": "list_item.data"
                          },
                          {
                            "control_type": "text",
                            "label": "invoice_line_currency",
                            "name": "invoice_line_currency",
                            "type": "string",
                            "optional": true,
                            "parent": "list_item.data"
                          }
                        ],
                        "label": "Data",
                        "type": "object",
                        "name": "data",
                        "parent": "list_item"
                      }
                    ],
                    "override": true
                  }
                ],
                "visible_config_fields": [
                  "name",
                  "list_item.data.po_id",
                  "list_item",
                  "list_item.schema",
                  "list_item.data.total_invoiced",
                  "list_item.data",
                  "list_item.data.accounting_total_line_invoiced",
                  "list_item.data.invoice_line_currency"
                ],
                "uuid": "4e4d35e7-1cc8-4824-a1f0-2c796e6145ea"
              }
            ],
            "uuid": "fcaed51c-250e-48bc-880a-433c58e9868a"
          }
        ],
        "source": "#{_('data.workato_service.d4599468.request.po_lines')}",
        "uuid": "01d62382-5524-4f5c-a7d8-e63f2e7e8ef3"
      },
      {
        "number": 5,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "aaf60147",
        "title": "Create variable total_po_invoiced",
        "description": "Create variable <span class=\"provider\">total_po_invoiced</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "number",
          "name": "total_po_invoiced",
          "value": "0.00"
        },
        "extended_output_schema": [
          {
            "type": "number",
            "name": "value",
            "control_type": "number",
            "label": "total_po_invoiced",
            "parse_output": "float_conversion"
          }
        ],
        "extended_input_schema": [
          {
            "type": "number",
            "name": "value",
            "control_type": "number",
            "label": "Default value",
            "hint": "Default value for the variable",
            "sticky": true,
            "optional": true,
            "parse_output": "float_conversion",
            "strip_interpolation": true
          }
        ],
        "uuid": "98a2b2a9-3b79-46b6-8091-94738a2a1d18"
      },
      {
        "number": 6,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "3df1dcf9",
        "title": "Create variable total_accounting_po_invoiced",
        "description": "Create variable <span class=\"provider\">total_accounting_po_invoiced</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "number",
          "name": "total_accounting_po_invoiced",
          "value": "0.00"
        },
        "extended_output_schema": [
          {
            "type": "number",
            "name": "value",
            "control_type": "number",
            "label": "total_accounting_po_invoiced",
            "parse_output": "float_conversion"
          }
        ],
        "extended_input_schema": [
          {
            "type": "number",
            "name": "value",
            "control_type": "number",
            "label": "Default value",
            "hint": "Default value for the variable",
            "sticky": true,
            "optional": true,
            "parse_output": "float_conversion",
            "strip_interpolation": true
          }
        ],
        "uuid": "221b78fb-3a74-4325-b7e4-c3a7e1117cf9"
      },
      {
        "number": 7,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "a5219c53",
        "title": "Create variable po_invoiced_currency",
        "description": "Create variable <span class=\"provider\">po_invoiced_currency</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "string",
          "name": "po_invoiced_currency",
          "value": "#{_('data.workato_service.d4599468.request.po_currency')}"
        },
        "extended_output_schema": [
          {
            "type": "string",
            "name": "value",
            "control_type": "text",
            "label": "po_invoiced_currency"
          }
        ],
        "extended_input_schema": [
          {
            "type": "string",
            "name": "value",
            "control_type": "text",
            "label": "Default value",
            "hint": "Default value for the variable",
            "sticky": true,
            "optional": true,
            "strip_interpolation": true
          }
        ],
        "uuid": "d7c0db81-6bd3-4f8e-a4d1-7cacf2865f4e"
      },
      {
        "number": 8,
        "as": "fb2702bc",
        "keyword": "foreach",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "clear_scope": "true",
        "input": {
        },
        "block": [
          {
            "number": 9,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "a3364be7",
            "title": "Update variable total_po_invoiced",
            "description": "Update variable <span class=\"provider\">total_po_invoiced</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "total_invoiced (step 4)"
            },
            "toggleCfg": {
            },
            "input": {
              "value": "=_('data.workato_variable.aaf60147.value')+_('data.foreach.fb2702bc.total_invoiced')",
              "name": "98a2b2a9-3b79-46b6-8091-94738a2a1d18:aaf60147"
            },
            "extended_input_schema": [
              {
                "type": "number",
                "name": "value",
                "control_type": "number",
                "label": "Value",
                "hint": "Provide value for the variable",
                "parse_output": "float_conversion",
                "strip_interpolation": true
              }
            ],
            "uuid": "f54417fa-3873-4de9-ba47-5d7ca5fab073"
          },
          {
            "number": 10,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "2005a5cf",
            "title": "Update variable total_accounting_po_invoiced",
            "description": "Update variable <span class=\"provider\">total_accounting_po_invoiced</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "total_accounting_po_invoiced (step 5)"
            },
            "toggleCfg": {
            },
            "input": {
              "value": "=_('data.workato_variable.3df1dcf9.value')+_('data.foreach.fb2702bc.accounting_total_line_invoiced')",
              "name": "221b78fb-3a74-4325-b7e4-c3a7e1117cf9:3df1dcf9"
            },
            "extended_input_schema": [
              {
                "type": "number",
                "name": "value",
                "control_type": "number",
                "label": "Value",
                "hint": "Provide value for the variable",
                "parse_output": "float_conversion",
                "strip_interpolation": true
              }
            ],
            "uuid": "a8277ed5-221d-4bb8-b0a2-d45fff2bfce5"
          },
          {
            "number": 11,
            "keyword": "if",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "type": "compound",
              "operand": "and",
              "conditions": [
                {
                  "operand": "present",
                  "lhs": "#{_('data.foreach.fb2702bc.invoice_line_currency')}",
                  "rhs": null
                },
                {
                  "operand": "not_equals_to",
                  "lhs": "#{_('data.foreach.fb2702bc.invoice_line_currency')}",
                  "rhs": "#{_('data.workato_variable.a5219c53.value')}"
                }
              ]
            },
            "block": [
              {
                "number": 12,
                "provider": "workato_variable",
                "name": "update_variable",
                "as": "2361068b",
                "title": "Update variable po_invoiced_currency",
                "description": "Update variable <span class=\"provider\">po_invoiced_currency</span>",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "name": "po_invoiced_currency (step 6)"
                },
                "toggleCfg": {
                },
                "input": {
                  "name": "d7c0db81-6bd3-4f8e-a4d1-7cacf2865f4e:a5219c53",
                  "value": "accounting_currency"
                },
                "extended_input_schema": [
                  {
                    "type": "string",
                    "name": "value",
                    "control_type": "text",
                    "label": "Value",
                    "hint": "Provide value for the variable",
                    "strip_interpolation": true
                  }
                ],
                "comment": "If the currencies are different, switch to use the \"accounting_currency\"",
                "uuid": "88d67c7f-5134-469f-8ec7-c1f5eefdfcc1"
              }
            ],
            "comment": "Check to make sure all the invoice lines and po lines are using the same currency.  If they are not, then use the accounting_currency.",
            "uuid": "ee33d555-e4fc-44fe-8b36-caf5107e4002"
          }
        ],
        "source": "#{_('data.workato_list.4aadcb5c.list_items')}",
        "uuid": "813e0709-27bb-4ad4-ac61-726212f16b90"
      },
      {
        "number": 13,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "03934c6e",
        "title": "Create variable total_po",
        "description": "Create variable <span class=\"provider\">total_po</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "number",
          "name": "total_po",
          "value": "=_('data.workato_service.d4599468.request.po_total').round(2)"
        },
        "extended_output_schema": [
          {
            "type": "number",
            "name": "value",
            "control_type": "number",
            "label": "total_po",
            "parse_output": "float_conversion"
          }
        ],
        "extended_input_schema": [
          {
            "type": "number",
            "name": "value",
            "control_type": "number",
            "label": "Default value",
            "hint": "Default value for the variable",
            "sticky": true,
            "optional": true,
            "parse_output": "float_conversion",
            "strip_interpolation": true
          }
        ],
        "uuid": "b8288a5f-8f10-40a5-9e8c-21e4827d518b"
      },
      {
        "number": 14,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "55772e10",
        "title": "Create variable total_invoiced",
        "description": "Create variable <span class=\"provider\">total_invoiced</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "number",
          "name": "total_invoiced",
          "value": "=_('data.workato_variable.aaf60147.value').round(2)"
        },
        "extended_output_schema": [
          {
            "type": "number",
            "name": "value",
            "control_type": "number",
            "label": "total_invoiced",
            "parse_output": "float_conversion"
          }
        ],
        "extended_input_schema": [
          {
            "type": "number",
            "name": "value",
            "control_type": "number",
            "label": "Default value",
            "hint": "Default value for the variable",
            "sticky": true,
            "optional": true,
            "parse_output": "float_conversion",
            "strip_interpolation": true
          }
        ],
        "uuid": "574502b8-1bc9-44ad-adbb-c9030842b322"
      },
      {
        "number": 15,
        "keyword": "if",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "compound",
          "operand": "and",
          "conditions": [
            {
              "operand": "equals_to",
              "lhs": "#{_('data.workato_variable.a5219c53.value')}",
              "rhs": "accounting_currency"
            }
          ]
        },
        "block": [
          {
            "number": 16,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "e6020d78",
            "title": "Update variable total_po",
            "description": "Update variable <span class=\"provider\">total_po</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "total_po (step 14)"
            },
            "toggleCfg": {
            },
            "input": {
              "name": "b8288a5f-8f10-40a5-9e8c-21e4827d518b:03934c6e",
              "value": "=_('data.workato_service.d4599468.request.po_accounting_total').round(2)"
            },
            "extended_input_schema": [
              {
                "type": "number",
                "name": "value",
                "control_type": "number",
                "label": "Value",
                "hint": "Provide value for the variable",
                "parse_output": "float_conversion",
                "strip_interpolation": true
              }
            ],
            "uuid": "cc090d0f-0a14-4e58-9aa4-8d2f81b33e15"
          },
          {
            "number": 17,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "7f3b5dda",
            "title": "Update variable total_invoiced",
            "description": "Update variable <span class=\"provider\">total_invoiced</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "total_invoiced (step 15)"
            },
            "toggleCfg": {
            },
            "input": {
              "name": "574502b8-1bc9-44ad-adbb-c9030842b322:55772e10",
              "value": "=_('data.workato_variable.3df1dcf9.value').round(2)"
            },
            "extended_input_schema": [
              {
                "type": "number",
                "name": "value",
                "control_type": "number",
                "label": "Value",
                "hint": "Provide value for the variable",
                "parse_output": "float_conversion",
                "strip_interpolation": true
              }
            ],
            "uuid": "5df58c30-19a5-4722-8972-b96a1fd67688"
          }
        ],
        "uuid": "7325cb4c-d594-4eb5-a069-2a0c59feba9d"
      },
      {
        "number": 18,
        "provider": "mysql",
        "name": "update_rows",
        "as": "59a468a9",
        "title": "Update rows in coupa_open_po_report_po",
        "description": "Update <span class=\"provider\">rows</span> in <span class=\"provider\">coupa_open_po_report_po</span> table in <span class=\"provider\">MySQL</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
          "table": "coupa_open_po_report_po"
        },
        "toggleCfg": {
          "table": true
        },
        "input": {
          "table": "coupa_open_po_report_po",
          "where": "po_id=#{_('data.workato_service.d4599468.request.po_id')}",
          "columns": {
            "total_invoiced": "=_('data.workato_variable.55772e10.value')",
            "total_remaining": "=(_('data.workato_variable.03934c6e.value')-_('data.workato_variable.55772e10.value')).round(2)",
            "report_currency": "#{_('data.workato_variable.a5219c53.value')}",
            "total_po": "#{_('data.workato_variable.03934c6e.value')}"
          }
        },
        "extended_input_schema": [
          {
            "type": "object",
            "name": "columns",
            "label": "Columns",
            "properties": [
              {
                "control_type": "date_time",
                "label": "date_created",
                "render_input": "convert_date_time",
                "parse_output": "parse_date_time",
                "details": {
                  "data_type": "datetime",
                  "column_name": "date_created"
                },
                "optional": true,
                "hint": "datetime",
                "type": "date_time",
                "name": "date_created",
                "parent": "columns"
              },
              {
                "control_type": "integer",
                "label": "po_id",
                "parse_output": "parse_integer_output",
                "details": {
                  "data_type": "int(11)",
                  "column_name": "po_id"
                },
                "render_input": "parse_integer_output",
                "event_title": true,
                "optional": true,
                "hint": "int(11), primary key",
                "type": "integer",
                "name": "po_id",
                "parent": "columns"
              },
              {
                "control_type": "integer",
                "label": "po_number",
                "parse_output": "parse_integer_output",
                "details": {
                  "data_type": "int(11)",
                  "column_name": "po_number"
                },
                "render_input": "parse_integer_output",
                "optional": true,
                "hint": "int(11)",
                "type": "integer",
                "name": "po_number",
                "parent": "columns"
              },
              {
                "control_type": "text",
                "label": "report_currency",
                "details": {
                  "data_type": "varchar(45)",
                  "column_name": "report_currency"
                },
                "optional": true,
                "hint": "varchar(45)",
                "type": "string",
                "name": "report_currency",
                "parent": "columns"
              },
              {
                "control_type": "text",
                "label": "req_currency",
                "details": {
                  "data_type": "varchar(45)",
                  "column_name": "req_currency"
                },
                "optional": true,
                "hint": "varchar(45)",
                "type": "string",
                "name": "req_currency",
                "parent": "columns"
              },
              {
                "control_type": "text",
                "label": "req_email",
                "details": {
                  "data_type": "varchar(100)",
                  "column_name": "req_email"
                },
                "optional": true,
                "hint": "varchar(100)",
                "type": "string",
                "name": "req_email",
                "parent": "columns"
              },
              {
                "control_type": "integer",
                "label": "req_id",
                "parse_output": "parse_integer_output",
                "details": {
                  "data_type": "int(11)",
                  "column_name": "req_id"
                },
                "render_input": "parse_integer_output",
                "optional": true,
                "hint": "int(11)",
                "type": "integer",
                "name": "req_id",
                "parent": "columns"
              },
              {
                "control_type": "number",
                "label": "total_invoiced",
                "parse_output": "parse_numeric_output",
                "details": {
                  "data_type": "double",
                  "column_name": "total_invoiced"
                },
                "render_input": "parse_numeric_output",
                "optional": true,
                "hint": "double",
                "type": "number",
                "name": "total_invoiced",
                "parent": "columns"
              },
              {
                "control_type": "number",
                "label": "total_po",
                "parse_output": "parse_numeric_output",
                "details": {
                  "data_type": "double",
                  "column_name": "total_po"
                },
                "render_input": "parse_numeric_output",
                "optional": true,
                "hint": "double",
                "type": "number",
                "name": "total_po",
                "parent": "columns"
              },
              {
                "control_type": "number",
                "label": "total_remaining",
                "parse_output": "parse_numeric_output",
                "details": {
                  "data_type": "double",
                  "column_name": "total_remaining"
                },
                "render_input": "parse_numeric_output",
                "optional": true,
                "hint": "double",
                "type": "number",
                "name": "total_remaining",
                "parent": "columns"
              },
              {
                "control_type": "number",
                "label": "total_req",
                "parse_output": "parse_numeric_output",
                "details": {
                  "data_type": "double",
                  "column_name": "total_req"
                },
                "render_input": "parse_numeric_output",
                "optional": true,
                "hint": "double",
                "type": "number",
                "name": "total_req",
                "parent": "columns"
              },
              {
                "control_type": "text",
                "label": "vendor_name",
                "details": {
                  "data_type": "varchar(100)",
                  "column_name": "vendor_name"
                },
                "optional": true,
                "hint": "varchar(100)",
                "type": "string",
                "name": "vendor_name",
                "parent": "columns"
              }
            ]
          }
        ],
        "visible_config_fields": [
          "table",
          "where",
          "columns.total_remaining",
          "columns.total_lines",
          "columns.total_invoiced",
          "columns",
          "columns.total_po",
          "columns.report_currency"
        ],
        "uuid": "43b3adb9-d352-491e-882f-c85833fabbc2"
      }
    ],
    "job_report_schema": [
      {
        "name": "custom_column_1",
        "label": "PO ID"
      },
      {
        "name": "custom_column_2",
        "label": "# Lines"
      },
      {
        "name": "custom_column_3",
        "label": "PO Total - Invoiced Total = Remaining"
      },
      {
        "name": "custom_column_4",
        "label": "Currency"
      }
    ],
    "job_report_config": {
      "custom_column_1": "#{_('data.workato_service.d4599468.request.po_id')}",
      "custom_column_2": "#{_('data.workato_service.d4599468.request.po_lines.first.____Size', 'list_meta', '____Size', 'data.workato_service.d4599468.request.po_lines')}",
      "custom_column_3": "=_('data.workato_variable.03934c6e.value').to_s + \" - \" + _('data.workato_variable.55772e10.value').to_s + \" = \" + ( _('data.workato_variable.03934c6e.value') - _('data.workato_variable.55772e10.value')).round(2).to_s",
      "custom_column_4": "#{_('data.workato_variable.a5219c53.value')}"
    },
    "uuid": "4b7319ad-737e-419a-973f-042bbd54d059"
  },
  "config": [
    {
      "keyword": "application",
      "provider": "workato_variable",
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "mysql",
      "account_id": {
        "zip_name": "resources/mysql.connection.json",
        "name": "MySQL",
        "folder": "resources"
      }
    },
    {
      "keyword": "application",
      "provider": "workato_service",
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_list",
      "account_id": null
    }
  ]
}