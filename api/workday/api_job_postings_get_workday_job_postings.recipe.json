{
  "name": "API - Job Postings - Get Workday Job Postings",
  "description": "When there is a trigger on a specified schedule, do action",
  "version": 5,
  "private": true,
  "concurrency": 1,
  "code": {
    "number": 0,
    "provider": "workato_service",
    "name": "receive_request",
    "as": "c8fa89b5",
    "title": null,
    "description": "New <span class=\"provider\">call</span> for <span class=\"provider\">API - Job Postings - Get Workday Job Postings</span>",
    "keyword": "trigger",
    "dynamicPickListSelection": {
    },
    "toggleCfg": {
    },
    "input": {
      "service_name": "API - Job Postings - Get Workday Job Postings",
      "reply_schema_json": "[{\"name\":\"jobPostingsXML\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"}]",
      "response_type": "raw"
    },
    "visible_config_fields": [
      "service_name",
      "reply_schema_json",
      "response_type"
    ],
    "block": [
      {
        "number": 1,
        "keyword": "try",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
        },
        "block": [
          {
            "number": 2,
            "provider": "workday",
            "name": "get_report",
            "as": "e1e5f9f3",
            "title": null,
            "description": null,
            "keyword": "action",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
              "remove_empty": true,
              "replace_with_additional": true,
              "use_automatic_schema": true
            },
            "input": {
              "remove_empty": "false",
              "replace_with_additional": "false",
              "report_url": "=lookup(\"WORKDAY_VARIABLES\", key: \"report.indeedJobPostings.URL\")[\"value\"]",
              "additional_fields": "[{\"name\":\"locationID\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"},{\"name\":\"city\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"},{\"name\":\"state\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"},{\"name\":\"country\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"}]",
              "use_automatic_schema": "false",
              "custom_output": "[{\"control_type\":\"text\",\"label\":\"Title\",\"type\":\"string\",\"name\":\"title\"},{\"control_type\":\"text\",\"label\":\"Start date\",\"type\":\"string\",\"name\":\"startDate\"},{\"control_type\":\"text\",\"label\":\"Job requisition ID\",\"type\":\"string\",\"name\":\"jobRequisitionId\"},{\"control_type\":\"text\",\"label\":\"Company\",\"type\":\"string\",\"name\":\"company\"},{\"control_type\":\"text\",\"label\":\"Job description\",\"type\":\"string\",\"name\":\"jobDescription\"},{\"control_type\":\"text\",\"label\":\"External apply URL\",\"type\":\"string\",\"name\":\"External_Apply_URL\"},{\"control_type\":\"text\",\"label\":\"Job Type\",\"type\":\"string\",\"name\":\"jobType\"},{\"control_type\":\"text\",\"label\":\"Location ID\",\"type\":\"string\",\"name\":\"locationID\"},{\"control_type\":\"text\",\"label\":\"City\",\"type\":\"string\",\"name\":\"city\"},{\"control_type\":\"text\",\"label\":\"State\",\"type\":\"string\",\"name\":\"state\"},{\"control_type\":\"text\",\"label\":\"Country\",\"type\":\"string\",\"name\":\"country\"}]"
            },
            "extended_output_schema": [
              {
                "type": "array",
                "name": "report",
                "label": "Rows",
                "of": "object",
                "properties": [
                  {
                    "control_type": "text",
                    "label": "Title",
                    "type": "string",
                    "name": "title"
                  },
                  {
                    "control_type": "text",
                    "label": "Start date",
                    "type": "string",
                    "name": "startDate"
                  },
                  {
                    "control_type": "text",
                    "label": "Job requisition ID",
                    "type": "string",
                    "name": "jobRequisitionId"
                  },
                  {
                    "control_type": "text",
                    "label": "Company",
                    "type": "string",
                    "name": "company"
                  },
                  {
                    "control_type": "text",
                    "label": "Job description",
                    "type": "string",
                    "name": "jobDescription"
                  },
                  {
                    "control_type": "text",
                    "label": "External apply URL",
                    "type": "string",
                    "name": "External_Apply_URL"
                  },
                  {
                    "control_type": "text",
                    "label": "Job Type",
                    "type": "string",
                    "name": "jobType"
                  },
                  {
                    "control_type": "text",
                    "label": "Location ID",
                    "type": "string",
                    "name": "locationID"
                  },
                  {
                    "control_type": "text",
                    "label": "City",
                    "type": "string",
                    "name": "city"
                  },
                  {
                    "control_type": "text",
                    "label": "State",
                    "type": "string",
                    "name": "state"
                  },
                  {
                    "control_type": "text",
                    "label": "Country",
                    "type": "string",
                    "name": "country"
                  }
                ]
              }
            ],
            "visible_config_fields": [
              "report_url",
              "custom_input",
              "custom_output",
              "remove_empty",
              "additional_fields",
              "replace_with_additional",
              "use_automatic_schema"
            ],
            "comment": "Use the Workday API call to retrieve the associated job posting report. This report URL is tied to the \"WORKDAY VARIABLES\" lookup table in Workato.",
            "uuid": "0bfb1af9-a254-4b55-af2e-83d4117f59da",
            "skip": false
          },
          {
            "number": 3,
            "provider": "workato_variable",
            "name": "declare_list",
            "as": "b234617a",
            "title": " Create Job_Sent_To_Indeed list",
            "description": "Create <span class=\"provider\">Job_Sent_To_Indeed</span> list",
            "keyword": "action",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "name": "Job_Sent_To_Indeed",
              "list_item_schema_json": "[{\"control_type\":\"text\",\"label\":\"Title\",\"name\":\"title\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Date\",\"name\":\"date\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Referencenumber\",\"name\":\"referencenumber\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Company\",\"name\":\"company\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Description\",\"name\":\"description\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"optional\":false},{\"name\":\"jobType\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"},{\"control_type\":\"text\",\"label\":\"City\",\"name\":\"city\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"State\",\"name\":\"state\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Country\",\"name\":\"country\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Job XML\",\"name\":\"jobXML\",\"type\":\"string\",\"optional\":false}]"
            },
            "extended_output_schema": [
              {
                "type": "array",
                "name": "list_items",
                "label": "Job_Sent_To_Indeed",
                "of": "object",
                "properties": [
                  {
                    "control_type": "text",
                    "label": "Title",
                    "name": "title",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "Date",
                    "name": "date",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "Referencenumber",
                    "name": "referencenumber",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "Company",
                    "name": "company",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "Description",
                    "name": "description",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "URL",
                    "name": "url",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "Job type",
                    "name": "jobType",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "City",
                    "name": "city",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "State",
                    "name": "state",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "Country",
                    "name": "country",
                    "type": "string",
                    "optional": false
                  },
                  {
                    "control_type": "text",
                    "label": "Job XML",
                    "name": "jobXML",
                    "type": "string",
                    "optional": false
                  }
                ]
              }
            ],
            "comment": "Variable list is created to store each of the job entries that come back from the Workday Report",
            "uuid": "c07562d7-7207-4bb6-8a9b-1683543f8017",
            "skip": false
          },
          {
            "number": 4,
            "as": "6c833f94",
            "keyword": "foreach",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "repeat_mode": "simple",
            "clear_scope": "false",
            "input": {
            },
            "block": [
              {
                "number": 5,
                "provider": "workato_variable",
                "name": "insert_to_list",
                "as": "b1071a65",
                "title": "Add item to Job_Sent_To_Indeed list",
                "description": "Add <span class=\"provider\">item</span> to <span class=\"provider\">Job_Sent_To_Indeed</span> list",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "name": "Job_Sent_To_Indeed (step 4)"
                },
                "toggleCfg": {
                },
                "input": {
                  "location": "end",
                  "name": "c07562d7-7207-4bb6-8a9b-1683543f8017:b234617a",
                  "list_item": {
                    "title": "=_('data.foreach.6c833f94.title')&.gsub(\"&\",\"&amp;\")                ",
                    "date": "#{_('data.foreach.6c833f94.startDate')}",
                    "referencenumber": "#{_('data.foreach.6c833f94.jobRequisitionId')}_#{_('data.foreach.6c833f94.locationID')}",
                    "company": "Rapid7",
                    "description": "#{_('data.foreach.6c833f94.jobDescription')}",
                    "url": "#{_('data.foreach.6c833f94.External_Apply_URL')}",
                    "city": "#{_('data.foreach.6c833f94.city')}",
                    "state": "#{_('data.foreach.6c833f94.state')}",
                    "country": "#{_('data.foreach.6c833f94.country')}",
                    "jobXML": "=\"<job>\" +\n   \"<title><![CDATA[\" + (_('data.foreach.6c833f94.title')&.gsub(\"&\",\"&amp;\") || \"\") + \"]]></title>\" +\n   \"<date><![CDATA[\" + (_('data.foreach.6c833f94.startDate') || \"\") + \"]]></date>\" +\n   \"<referencenumber><![CDATA[\" + (_('data.foreach.6c833f94.jobRequisitionId') || \"\") + \"_\" + (_('data.foreach.6c833f94.locationID') || \"\") + \"]]></referencenumber>\" +\n   \"<company><![CDATA[Rapid7]]></company>\" +\n\"<description><![CDATA[\" + (_('data.foreach.6c833f94.jobDescription') || \"\") + \"]]></description>\" +\n   \"<url><![CDATA[\" + (_('data.foreach.6c833f94.External_Apply_URL') || \"\") + \"]]></url>\" +\n   \"<jobtype><![CDATA[\" + (_('data.foreach.6c833f94.jobType') || \"\") + \"]]></jobtype>\" +\n   \"<city><![CDATA[\" + (_('data.foreach.6c833f94.city') || \"\") + \"]]></city>\" +\n   \"<state><![CDATA[\" + (_('data.foreach.6c833f94.state') || \"\") + \"]]></state>\" +\n   \"<country><![CDATA[\" + (_('data.foreach.6c833f94.country') || \"\") + \"]]></country>\" +\n\"</job>\"",
                    "jobType": "#{_('data.foreach.6c833f94.jobType')}"
                  }
                },
                "extended_input_schema": [
                  {
                    "type": "object",
                    "name": "list_item",
                    "label": "List item",
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "Title",
                        "name": "title",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "Date",
                        "name": "date",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "Referencenumber",
                        "name": "referencenumber",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "Company",
                        "name": "company",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "Description",
                        "name": "description",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "URL",
                        "name": "url",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "Job type",
                        "name": "jobType",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "City",
                        "name": "city",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "State",
                        "name": "state",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "Country",
                        "name": "country",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "Job XML",
                        "name": "jobXML",
                        "type": "string",
                        "optional": false
                      }
                    ]
                  }
                ],
                "comment": "Add a new job posting list item from the Workday Report to the Workato list",
                "uuid": "d8b228bd-9fbc-4c33-81ab-4dc5a9e0fecf",
                "skip": false
              }
            ],
            "source": "#{_('data.workday.e1e5f9f3.report')}",
            "comment": "Loop through all job posting in the Workday Report",
            "uuid": "d4a912e1-a8ae-4071-930a-615994595710",
            "skip": false
          },
          {
            "number": 6,
            "provider": "workato_variable",
            "name": "declare_variable",
            "as": "7cb1fe71",
            "title": "  Create variable IndeedFormattedXML",
            "description": "Create variable <span class=\"provider\">IndeedFormattedXML</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "variables": {
                "schema": "[{\"name\":\"indeed_formatted_xml\",\"type\":\"string\",\"optional\":true,\"label\":\"IndeedFormattedXML\",\"control_type\":\"text\"}]",
                "data": {
                  "indeed_formatted_xml": "=lookup(\"WORKDAY_VARIABLES\", key: \"report.indeedJobPostings.searchHeader\")[\"value\"] + \"\\n\" + \"<source>\" + \"\\n\""
                }
              }
            },
            "extended_output_schema": [
              {
                "type": "string",
                "name": "indeed_formatted_xml",
                "control_type": "text",
                "label": "IndeedFormattedXML",
                "optional": true
              }
            ],
            "extended_input_schema": [
              {
                "type": "object",
                "name": "variables",
                "control_type": "form-schema-builder",
                "label": "Variables",
                "optional": true,
                "properties": [
                  {
                    "control_type": "text",
                    "label": "Schema",
                    "extends_schema": true,
                    "broadcast_change_event": true,
                    "type": "string",
                    "name": "schema"
                  },
                  {
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "IndeedFormattedXML",
                        "name": "indeed_formatted_xml",
                        "type": "string",
                        "optional": true,
                        "hint": "Defaults to nil if not supplied.",
                        "sticky": true
                      }
                    ],
                    "label": "Data",
                    "type": "object",
                    "name": "data"
                  }
                ],
                "exclude_fields": [
                  "hint"
                ]
              }
            ],
            "visible_config_fields": [
              "variables.data.indeed_formatted_xml"
            ],
            "comment": "Create a variable to hold the entire XML string that will be returned as the response of this recipe",
            "uuid": "a03073ff-b9fd-4629-a068-8a0803b2df57",
            "skip": false
          },
          {
            "number": 7,
            "as": "10ebb3dc",
            "keyword": "foreach",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "repeat_mode": "simple",
            "clear_scope": "false",
            "input": {
            },
            "block": [
              {
                "number": 8,
                "provider": "workato_variable",
                "name": "update_variable",
                "as": "bcb4db3e",
                "title": null,
                "description": "Update variable <span class=\"provider\">IndeedFormattedXML</span>",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "name": "IndeedFormattedXML (step 9)"
                },
                "toggleCfg": {
                },
                "input": {
                  "name": "a03073ff-b9fd-4629-a068-8a0803b2df57:7cb1fe71:indeed_formatted_xml",
                  "value": "=_('data.workato_variable.7cb1fe71.indeed_formatted_xml') + _('data.foreach.10ebb3dc.jobXML')"
                },
                "extended_input_schema": [
                  {
                    "type": "string",
                    "name": "value",
                    "control_type": "text",
                    "label": "Value",
                    "hint": "Provide a value for the variable. When the value is not supplied, the variable is not updated.<br>To clear the value, set the value to <b>nil</b> in formula mode.",
                    "sticky": true,
                    "optional": true,
                    "strip_interpolation": true
                  }
                ],
                "comment": "Add each of the associated specific job entries to the overall formatted XML that gets sent out as a response",
                "uuid": "b17c2c9d-43d0-4715-8697-e9062b4b12e1",
                "skip": false
              }
            ],
            "source": "#{_('data.workato_variable.b234617a.list_items')}",
            "comment": "Loop through the variable list that holds all the related jobs postings from Workday",
            "uuid": "11c81587-03a1-4bfa-b682-47f8cf40f034",
            "skip": false
          },
          {
            "number": 9,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "1b3c2534",
            "title": null,
            "description": "Update variable <span class=\"provider\">IndeedFormattedXML</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "IndeedFormattedXML (step 9)"
            },
            "toggleCfg": {
            },
            "input": {
              "name": "a03073ff-b9fd-4629-a068-8a0803b2df57:7cb1fe71:indeed_formatted_xml",
              "value": "=_('data.workato_variable.7cb1fe71.indeed_formatted_xml') + \"</source>\""
            },
            "extended_input_schema": [
              {
                "type": "string",
                "name": "value",
                "control_type": "text",
                "label": "Value",
                "hint": "Provide a value for the variable. When the value is not supplied, the variable is not updated.<br>To clear the value, set the value to <b>nil</b> in formula mode.",
                "sticky": true,
                "optional": true,
                "strip_interpolation": true
              }
            ],
            "comment": "Add the final closing \"source\" tag to the formatted XML",
            "uuid": "b0e03ebc-0874-4782-8210-d9d1274ec907",
            "skip": false
          },
          {
            "number": 10,
            "provider": "lookup_table",
            "name": "get_entries",
            "as": "595de9ba",
            "title": null,
            "description": "\n      Get all\n      <span class=\"provider\">entries</span>\n      from\n      <span class=\"provider\">ASCII_CODE</span>\n      lookup table\n    ",
            "keyword": "action",
            "dynamicPickListSelection": {
              "lookup_table_id": "ASCII_CODE"
            },
            "toggleCfg": {
            },
            "input": {
              "lookup_table_id": {
                "zip_name": "ascii_code.lookup_table.json",
                "name": "ASCII_CODE",
                "folder": ""
              }
            },
            "extended_output_schema": [
              {
                "type": "array",
                "name": "entries",
                "label": "Entries",
                "of": "object",
                "properties": [
                  {
                    "control_type": "number",
                    "label": "Entry ID",
                    "parse_output": "integer_conversion",
                    "type": "integer",
                    "name": "id"
                  },
                  {
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "DEC",
                        "name": "col1",
                        "sticky": true,
                        "type": "string"
                      },
                      {
                        "control_type": "text",
                        "label": "OCT",
                        "name": "col2",
                        "sticky": true,
                        "type": "string"
                      },
                      {
                        "control_type": "text",
                        "label": "HEX",
                        "name": "col3",
                        "sticky": true,
                        "type": "string"
                      },
                      {
                        "control_type": "text",
                        "label": "BIN",
                        "name": "col4",
                        "sticky": true,
                        "type": "string"
                      },
                      {
                        "control_type": "text",
                        "label": "Symbol",
                        "name": "col5",
                        "sticky": true,
                        "type": "string"
                      },
                      {
                        "control_type": "text",
                        "label": "HTM l  number",
                        "name": "col6",
                        "sticky": true,
                        "type": "string"
                      },
                      {
                        "control_type": "text",
                        "label": "HTM l  name",
                        "name": "col7",
                        "sticky": true,
                        "type": "string"
                      },
                      {
                        "control_type": "text",
                        "label": "Description",
                        "name": "col8",
                        "sticky": true,
                        "type": "string"
                      }
                    ],
                    "label": "Entry",
                    "type": "object",
                    "name": "entry"
                  }
                ]
              }
            ],
            "comment": "Use the ASCII_CODE lookup table to perform a replacement of the HTML symbols that exist in the formatted XML",
            "uuid": "cc156360-ff22-4ef4-aacf-c3e3282e0958"
          },
          {
            "number": 11,
            "as": "7c775a43",
            "keyword": "foreach",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "repeat_mode": "simple",
            "clear_scope": "false",
            "input": {
            },
            "block": [
              {
                "number": 12,
                "keyword": "if",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "type": "compound",
                  "operand": "and",
                  "conditions": [
                    {
                      "operand": "contains",
                      "lhs": "#{_('data.workato_variable.7cb1fe71.indeed_formatted_xml')}",
                      "rhs": "#{_('data.foreach.7c775a43.entry.col6')}",
                      "uuid": "condition-6322ad1b-d2ac-49ba-9cae-6b4908cf2198"
                    }
                  ]
                },
                "block": [
                  {
                    "number": 13,
                    "provider": "workato_variable",
                    "name": "update_variable",
                    "as": "85820ec9",
                    "title": null,
                    "description": "Update variable <span class=\"provider\">IndeedFormattedXML</span>",
                    "keyword": "action",
                    "dynamicPickListSelection": {
                      "name": "IndeedFormattedXML (step 7)"
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "name": "a03073ff-b9fd-4629-a068-8a0803b2df57:7cb1fe71:indeed_formatted_xml",
                      "value": "=_('data.workato_variable.7cb1fe71.indeed_formatted_xml').gsub(_('data.foreach.7c775a43.entry.col6'), _('data.foreach.7c775a43.entry.col5'))"
                    },
                    "extended_input_schema": [
                      {
                        "type": "string",
                        "name": "value",
                        "control_type": "text",
                        "label": "Value",
                        "hint": "Provide a value for the variable. When the value is not supplied, the variable is not updated.<br>To clear the value, set the value to <b>nil</b> in formula mode.",
                        "sticky": true,
                        "optional": true,
                        "strip_interpolation": true
                      }
                    ],
                    "comment": "Replace the looped on HTML symbol with the non HTML symbol",
                    "uuid": "7249eece-923a-404a-9185-433c7fff17cd"
                  }
                ],
                "comment": "If the looped on HTML symbol exists",
                "uuid": "05134f16-0ebb-49c3-83fb-d8db0de12a85"
              },
              {
                "number": 14,
                "keyword": "if",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "type": "compound",
                  "operand": "and",
                  "conditions": [
                    {
                      "operand": "contains",
                      "lhs": "#{_('data.workato_variable.7cb1fe71.indeed_formatted_xml')}",
                      "rhs": "#{_('data.foreach.7c775a43.entry.col7')}",
                      "uuid": "condition-6322ad1b-d2ac-49ba-9cae-6b4908cf2198"
                    },
                    {
                      "operand": "present",
                      "lhs": "#{_('data.foreach.7c775a43.entry.col7')}",
                      "rhs": "",
                      "uuid": "condition-503b79a9-13cc-48ee-ab47-cebfe1ce55ed"
                    }
                  ]
                },
                "block": [
                  {
                    "number": 15,
                    "provider": "workato_variable",
                    "name": "update_variable",
                    "as": "fc56d2c4",
                    "title": null,
                    "description": "Update variable <span class=\"provider\">IndeedFormattedXML</span>",
                    "keyword": "action",
                    "dynamicPickListSelection": {
                      "name": "IndeedFormattedXML (step 7)"
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "name": "a03073ff-b9fd-4629-a068-8a0803b2df57:7cb1fe71:indeed_formatted_xml",
                      "value": "=_('data.workato_variable.7cb1fe71.indeed_formatted_xml').gsub(_('data.foreach.7c775a43.entry.col7'), _('data.foreach.7c775a43.entry.col5'))"
                    },
                    "extended_input_schema": [
                      {
                        "type": "string",
                        "name": "value",
                        "control_type": "text",
                        "label": "Value",
                        "hint": "Provide a value for the variable. When the value is not supplied, the variable is not updated.<br>To clear the value, set the value to <b>nil</b> in formula mode.",
                        "sticky": true,
                        "optional": true,
                        "strip_interpolation": true
                      }
                    ],
                    "comment": "Replace the looped on HTML symbol with the non HTML symbol",
                    "uuid": "243d8714-8912-41c8-81e9-00f8dfde626e"
                  }
                ],
                "comment": "If the looped on HTML symbol exists",
                "uuid": "ffd72222-bfa1-4873-8fbd-ccd843fbaa41"
              }
            ],
            "source": "#{_('data.lookup_table.595de9ba.entries')}",
            "comment": "Loop through all the entries in the ASCII_CODE lookup table to make sure all the HTML symbols are caught",
            "uuid": "758f598c-1328-4fd2-9b63-9ba4132fc973"
          },
          {
            "number": 16,
            "provider": "workato_service",
            "name": "send_reply",
            "as": "5af51d01",
            "title": null,
            "description": "Return <span class=\"provider\">response</span> from <span class=\"provider\">API - Job Postings - Get Workday Job Postings</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "reply_type": "success",
              "reply": {
                "response": "=_('data.workato_variable.7cb1fe71.indeed_formatted_xml')"
              }
            },
            "extended_input_schema": [
              {
                "type": "object",
                "name": "reply",
                "label": "Reply",
                "properties": [
                  {
                    "control_type": "text",
                    "label": "Content type",
                    "optional": true,
                    "type": "string",
                    "name": "content_type"
                  },
                  {
                    "control_type": "text-area",
                    "label": "Response (raw)",
                    "optional": false,
                    "type": "string",
                    "name": "response"
                  }
                ]
              }
            ],
            "comment": "Return the associated formatted XML out to API call",
            "uuid": "88ab58dd-aec7-4b5a-914f-ce122463a734"
          },
          {
            "number": 17,
            "as": "0184638b",
            "keyword": "catch",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "max_retry_count": "3",
              "retry_interval": "10"
            },
            "filter": {
              "conditions": [
                {
                  "operand": "contains",
                  "lhs": "#{_('data.catch.0184638b.message')}",
                  "rhs": "502",
                  "uuid": "condition-abf982e0-d8ea-47f7-acd3-08820871097d"
                },
                {
                  "operand": "contains",
                  "lhs": "#{_('data.catch.0184638b.message')}",
                  "rhs": "500",
                  "uuid": "condition-9456ff68-b8aa-4b39-8369-6be36cd107fd"
                }
              ],
              "operand": "or",
              "type": "compound"
            },
            "block": [
              {
                "number": 18,
                "provider": "workato_service",
                "name": "send_reply",
                "as": "ac906080",
                "title": null,
                "description": "Return <span class=\"provider\">response</span> from <span class=\"provider\">API - Job Postings - Get Workday Job Postings</span>",
                "keyword": "action",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "reply_type": "error",
                  "code": "500",
                  "message": "#{_('data.catch.0184638b.message')}"
                },
                "extended_input_schema": [
                  {
                    "type": "string",
                    "name": "message",
                    "control_type": "text",
                    "label": "Message",
                    "hint": "Error message"
                  },
                  {
                    "type": "string",
                    "name": "code",
                    "control_type": "text",
                    "label": "Error code",
                    "hint": "Use this field to set custom HTTP error code for service replies. E.g: 404/422 etc. This field is applicable to REST service recipes.",
                    "optional": true
                  },
                  {
                    "type": "boolean",
                    "name": "custom_error_response",
                    "control_type": "checkbox",
                    "label": "Custom error response?",
                    "hint": "By default, Workato sends 'reply_type' and 'message' fields in response. When set to 'Yes', the content of the 'Message' field is sent as response body. This field is applicable to REST service recipes.",
                    "optional": true,
                    "toggle_hint": "Select from option list",
                    "toggle_field": {
                      "label": "Custom error response?",
                      "control_type": "text",
                      "toggle_hint": "Use custom value",
                      "optional": true,
                      "hint": "By default, Workato sends 'reply_type' and 'message' fields in response. When set to 'Yes', the content of the 'Message' field is sent as response body. This field is applicable to REST service recipes.",
                      "type": "boolean",
                      "name": "custom_error_response"
                    },
                    "render_input": {
                    },
                    "parse_output": {
                    }
                  }
                ],
                "visible_config_fields": [
                  "reply_type",
                  "code"
                ],
                "comment": "Return the error back out the API response so it can be addressed",
                "uuid": "23e9baa0-680f-4f18-a300-b46bc6601966"
              },
              {
                "number": 19,
                "keyword": "stop",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "stop_with_error": "true",
                  "stop_reason": "#{_('data.catch.0184638b.message')}"
                },
                "comment": "Stop the entire job with an error to make sure the Workato Job fails and the fail is able to be tracked",
                "uuid": "05299a59-a66f-4b14-a69f-cebbaecb94cd"
              }
            ],
            "uuid": "4e758295-c7f2-4237-8979-40c7d057615c"
          }
        ],
        "uuid": "9f5877d1-6a2d-4470-be55-392eebbae5da"
      }
    ],
    "comment": "The trigger for this recipe is associated to an API call that will typically be called by indeed. The recipe will then pull job posting information down from Workday, reformat the job posting report, and then return and ingestible xml string that Indeed can then use to create job posting in their site.",
    "uuid": "c3a12d73-3172-4dd9-8201-7aea482907bb"
  },
  "config": [
    {
      "keyword": "application",
      "provider": "workday",
      "skip_validation": false,
      "account_id": {
        "zip_name": "resources/workday.connection.json",
        "name": "Workday",
        "folder": "resources"
      }
    },
    {
      "keyword": "application",
      "provider": "workato_variable",
      "skip_validation": false,
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_service",
      "skip_validation": false,
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "lookup_table",
      "skip_validation": false,
      "account_id": null
    }
  ]
}