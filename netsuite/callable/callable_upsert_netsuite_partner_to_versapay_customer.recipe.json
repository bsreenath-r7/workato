{
  "name": "Callable - Upsert NetSuite Partner to VersaPay Customer",
  "description": "When there is a trigger event, do action",
  "version": 3,
  "private": true,
  "concurrency": 5,
  "code": {
    "number": 0,
    "provider": "workato_service",
    "name": "receive_request",
    "as": "f329a0d7",
    "title": null,
    "description": "New <span class=\"provider\">call</span> for <span class=\"provider\">Upsert NetSuite Partner to VersaPay Customer</span>",
    "keyword": "trigger",
    "dynamicPickListSelection": {
    },
    "toggleCfg": {
    },
    "input": {
      "service_name": "Upsert NetSuite Partner to VersaPay Customer",
      "request_schema_json": "[{\"control_type\":\"text\",\"label\":\"NetSuite Partner Internal ID\",\"name\":\"ns_partner_internal_id\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"checkbox\",\"label\":\"Insert Only\",\"render_input\":{},\"parse_output\":{},\"toggle_hint\":\"Select from option list\",\"toggle_field\":{\"label\":\"Insert Only\",\"control_type\":\"text\",\"toggle_hint\":\"Use custom value\",\"name\":\"insert_only\",\"type\":\"boolean\",\"optional\":true,\"hint\":\"If set to 'True', only do an insert (do not update the VersaPay Customer if it already exists).  This is for performance to prevent unnecessary updates.\"},\"name\":\"insert_only\",\"type\":\"boolean\",\"optional\":true,\"hint\":\"If set to 'True', only do an insert (do not update the VersaPay Customer if it already exists).  This is for performance to prevent unnecessary updates.\"},{\"control_type\":\"checkbox\",\"label\":\"Upsert Only When Present\",\"render_input\":{},\"parse_output\":{},\"toggle_hint\":\"Select from option list\",\"toggle_field\":{\"label\":\"Upsert Only When Present\",\"control_type\":\"text\",\"toggle_hint\":\"Use custom value\",\"name\":\"upsert_only_when_present\",\"type\":\"boolean\",\"optional\":true,\"hint\":\"Only perform the upsert if the VersaPay Customer already exists in VersaPay.\"},\"name\":\"upsert_only_when_present\",\"type\":\"boolean\",\"optional\":true,\"hint\":\"Only perform the upsert if the VersaPay Customer already exists in VersaPay.\"},{\"control_type\":\"checkbox\",\"label\":\"Is Autorenewal Child?\",\"render_input\":{},\"parse_output\":{},\"toggle_hint\":\"Select from option list\",\"toggle_field\":{\"label\":\"Is Autorenewal Child?\",\"control_type\":\"text\",\"toggle_hint\":\"Use custom value\",\"name\":\"is_autorenewal_child\",\"type\":\"boolean\",\"optional\":true,\"hint\":\"Determines whether to create a child customer for auto-renewals\"},\"name\":\"is_autorenewal_child\",\"type\":\"boolean\",\"optional\":true,\"hint\":\"Determines whether to create a child customer for auto-renewals\"},{\"control_type\":\"text\",\"label\":\"Parent VersaPay Identifier\",\"name\":\"parent_versapay_identifier\",\"type\":\"string\",\"optional\":true}]",
      "reply_schema_json": "[{\"control_type\":\"text\",\"label\":\"VersaPay Customer Identifier\",\"name\":\"versapay_customer_identifier\",\"type\":\"string\",\"optional\":false,\"hint\":\"Contains the ID of the VersaPay Customer that was upserted ('0' if no upsert was completed)\"}]"
    },
    "extended_output_schema": [
      {
        "type": "object",
        "name": "request",
        "label": "Recipe input",
        "properties": [
          {
            "control_type": "text",
            "label": "NetSuite Partner Internal ID",
            "name": "ns_partner_internal_id",
            "type": "string",
            "optional": false
          },
          {
            "control_type": "checkbox",
            "label": "Insert Only",
            "render_input": {
            },
            "parse_output": {
            },
            "toggle_hint": "Select from option list",
            "toggle_field": {
              "label": "Insert Only",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "name": "insert_only",
              "type": "boolean",
              "optional": true,
              "hint": "If set to 'True', only do an insert (do not update the VersaPay Customer if it already exists).  This is for performance to prevent unnecessary updates."
            },
            "name": "insert_only",
            "type": "boolean",
            "optional": true,
            "hint": "If set to 'True', only do an insert (do not update the VersaPay Customer if it already exists).  This is for performance to prevent unnecessary updates."
          },
          {
            "control_type": "checkbox",
            "label": "Upsert Only When Present",
            "render_input": {
            },
            "parse_output": {
            },
            "toggle_hint": "Select from option list",
            "toggle_field": {
              "label": "Upsert Only When Present",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "name": "upsert_only_when_present",
              "type": "boolean",
              "optional": true,
              "hint": "Only perform the upsert if the VersaPay Customer already exists in VersaPay."
            },
            "name": "upsert_only_when_present",
            "type": "boolean",
            "optional": true,
            "hint": "Only perform the upsert if the VersaPay Customer already exists in VersaPay."
          },
          {
            "control_type": "checkbox",
            "label": "Is Autorenewal Child?",
            "render_input": {
            },
            "parse_output": {
            },
            "toggle_hint": "Select from option list",
            "toggle_field": {
              "label": "Is Autorenewal Child?",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "name": "is_autorenewal_child",
              "type": "boolean",
              "optional": true,
              "hint": "Determines whether to create a child customer for auto-renewals"
            },
            "name": "is_autorenewal_child",
            "type": "boolean",
            "optional": true,
            "hint": "Determines whether to create a child customer for auto-renewals"
          },
          {
            "control_type": "text",
            "label": "Parent VersaPay Identifier",
            "name": "parent_versapay_identifier",
            "type": "string",
            "optional": true
          }
        ]
      }
    ],
    "block": [
      {
        "number": 1,
        "provider": "workato_service",
        "name": "call_service",
        "as": "f93ad92b",
        "title": null,
        "description": "Call recipe <span class=\"provider\">Convert NS Internal ID to VersaPay Identifier</span> ",
        "keyword": "action",
        "dynamicPickListSelection": {
          "flow_id": "Convert NS Internal ID to VersaPay Identifier"
        },
        "toggleCfg": {
        },
        "input": {
          "flow_id": {
            "zip_name": "netsuite/callable/callable_convert_netsuite_internal_id_to_versapay_identifier.recipe.json",
            "name": "Callable - Convert NetSuite Internal ID to VersaPay Identifier",
            "folder": "netsuite/callable"
          },
          "request": {
            "type": "par-",
            "ns_internal_id": "#{_('data.workato_service.f329a0d7.request.ns_partner_internal_id')}"
          }
        },
        "extended_output_schema": [
          {
            "type": "object",
            "name": "reply",
            "label": "Reply",
            "properties": [
              {
                "control_type": "text",
                "label": "VersaPay Identifier",
                "name": "versapay_identifier",
                "type": "string",
                "optional": false
              }
            ]
          }
        ],
        "extended_input_schema": [
          {
            "type": "object",
            "name": "request",
            "label": "Recipe input",
            "properties": [
              {
                "control_type": "text",
                "label": "NetSuite Internal ID",
                "name": "ns_internal_id",
                "type": "string",
                "optional": false,
                "parent": "request"
              },
              {
                "control_type": "select",
                "label": "Type",
                "type": "string",
                "name": "type",
                "pick_list": [
                  [
                    "Contact",
                    "con-"
                  ],
                  [
                    "Customer",
                    "cust-"
                  ],
                  [
                    "Invoice",
                    "invo-"
                  ],
                  [
                    "Partner",
                    "par-"
                  ]
                ],
                "parent": "request"
              }
            ]
          }
        ],
        "uuid": "38a7be71-4f5b-44c2-bca4-3237f7c5c921"
      },
      {
        "number": 2,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "0fcca338",
        "title": "Create variable customer_identifier",
        "description": "Create variable <span class=\"provider\">customer_identifier</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "string",
          "name": "customer_identifier",
          "value": "#{_('data.workato_service.f93ad92b.reply.versapay_identifier')}"
        },
        "extended_output_schema": [
          {
            "type": "string",
            "name": "value",
            "control_type": "text",
            "label": "customer_identifier"
          }
        ],
        "extended_input_schema": [
          {
            "type": "string",
            "name": "value",
            "control_type": "text",
            "label": "Default value",
            "hint": "Default value for the variable",
            "sticky": true,
            "optional": true,
            "strip_interpolation": true
          }
        ],
        "uuid": "1d1e1b0b-65bd-4e1e-b1a5-f4c5b2f55e28"
      },
      {
        "number": 3,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "88ad6c18",
        "title": "Create variable is_autorenewal",
        "description": "Create variable <span class=\"provider\">is_autorenewal</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
          "value": true
        },
        "input": {
          "type": "boolean",
          "name": "is_autorenewal",
          "value": "false"
        },
        "extended_output_schema": [
          {
            "type": "boolean",
            "name": "value",
            "control_type": "checkbox",
            "label": "is_autorenewal",
            "toggle_hint": "Select from option list",
            "toggle_field": {
              "label": "is_autorenewal",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "type": "boolean",
              "name": "value"
            },
            "render_input": {
            },
            "parse_output": {
            }
          }
        ],
        "extended_input_schema": [
          {
            "type": "boolean",
            "name": "value",
            "control_type": "checkbox",
            "label": "Default value",
            "hint": "Default value for the variable",
            "sticky": true,
            "optional": true,
            "toggle_hint": "Select from option list",
            "toggle_field": {
              "label": "Default value",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "hint": "Default value for the variable",
              "strip_interpolation": true,
              "sticky": true,
              "optional": true,
              "type": "boolean",
              "name": "value"
            },
            "render_input": {
            },
            "parse_output": {
            },
            "strip_interpolation": true
          }
        ],
        "uuid": "23a57f4b-09de-44d9-b38e-37f5e46d4f17"
      },
      {
        "number": 4,
        "keyword": "if",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "compound",
          "operand": "and",
          "conditions": [
            {
              "operand": "present",
              "lhs": "#{_('data.workato_service.f329a0d7.request.is_autorenewal_child')}",
              "rhs": null
            },
            {
              "operand": "is_true",
              "lhs": "#{_('data.workato_service.f329a0d7.request.is_autorenewal_child')}",
              "rhs": null
            }
          ]
        },
        "block": [
          {
            "number": 5,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "1b59c9e0",
            "title": "Update variable customer_identifier",
            "description": "Update variable <span class=\"provider\">customer_identifier</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "customer_identifier (step 2)"
            },
            "toggleCfg": {
            },
            "input": {
              "name": "1d1e1b0b-65bd-4e1e-b1a5-f4c5b2f55e28:0fcca338",
              "value": "=_('data.workato_variable.0fcca338.value')+lookup(\"VERSAPAY_VARIABLES\", name: \"autorenewal.identifier.append\")[\"value\"]"
            },
            "extended_input_schema": [
              {
                "type": "string",
                "name": "value",
                "control_type": "text",
                "label": "Value",
                "hint": "Provide value for the variable",
                "strip_interpolation": true
              }
            ],
            "uuid": "97ec181a-0954-4785-8c77-c10a652ccb02"
          },
          {
            "number": 6,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "c22427e8",
            "title": "Update variable is_autorenewal",
            "description": "Update variable <span class=\"provider\">is_autorenewal</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "is_autorenewal (step 3)"
            },
            "toggleCfg": {
              "value": true
            },
            "input": {
              "name": "23a57f4b-09de-44d9-b38e-37f5e46d4f17:88ad6c18",
              "value": "true"
            },
            "extended_input_schema": [
              {
                "type": "boolean",
                "name": "value",
                "control_type": "checkbox",
                "label": "Value",
                "hint": "Provide value for the variable",
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Value",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "hint": "Provide value for the variable",
                  "strip_interpolation": true,
                  "type": "boolean",
                  "name": "value"
                },
                "render_input": {
                },
                "parse_output": {
                },
                "strip_interpolation": true
              }
            ],
            "uuid": "54bef0b3-ff72-4001-9a67-df055e2b413c"
          }
        ],
        "uuid": "5d3b1e5c-e51a-4dcc-8598-146218f83894"
      },
      {
        "number": 7,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "7226f266",
        "title": "Create variable perform_check_if_exists",
        "description": "Create variable <span class=\"provider\">perform_check_if_exists</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
          "value": true
        },
        "input": {
          "type": "boolean",
          "name": "perform_check_if_exists",
          "value": "false"
        },
        "extended_output_schema": [
          {
            "type": "boolean",
            "name": "value",
            "control_type": "checkbox",
            "label": "perform_check_if_exists",
            "toggle_hint": "Select from option list",
            "toggle_field": {
              "label": "perform_check_if_exists",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "type": "boolean",
              "name": "value"
            },
            "render_input": {
            },
            "parse_output": {
            }
          }
        ],
        "extended_input_schema": [
          {
            "type": "boolean",
            "name": "value",
            "control_type": "checkbox",
            "label": "Default value",
            "hint": "Default value for the variable",
            "sticky": true,
            "optional": true,
            "toggle_hint": "Select from option list",
            "toggle_field": {
              "label": "Default value",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "hint": "Default value for the variable",
              "strip_interpolation": true,
              "sticky": true,
              "optional": true,
              "type": "boolean",
              "name": "value"
            },
            "render_input": {
            },
            "parse_output": {
            },
            "strip_interpolation": true
          }
        ],
        "comment": "set a variable to determine whether to see if a Customer already exists in VersaPay (NO by default)",
        "uuid": "1e0b44f9-718a-43ac-b6ba-6adc584beaf7"
      },
      {
        "number": 8,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "e2452078",
        "title": "Create variable customer_upsert_performed",
        "description": "Create variable <span class=\"provider\">customer_upsert_performed</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
          "value": true
        },
        "input": {
          "type": "boolean",
          "name": "customer_upsert_performed",
          "value": "false"
        },
        "extended_output_schema": [
          {
            "type": "boolean",
            "name": "value",
            "control_type": "checkbox",
            "label": "customer_upsert_performed",
            "toggle_hint": "Select from option list",
            "toggle_field": {
              "label": "customer_upsert_performed",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "type": "boolean",
              "name": "value"
            },
            "render_input": {
            },
            "parse_output": {
            }
          }
        ],
        "extended_input_schema": [
          {
            "type": "boolean",
            "name": "value",
            "control_type": "checkbox",
            "label": "Default value",
            "hint": "Default value for the variable",
            "sticky": true,
            "optional": true,
            "toggle_hint": "Select from option list",
            "toggle_field": {
              "label": "Default value",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "hint": "Default value for the variable",
              "strip_interpolation": true,
              "sticky": true,
              "optional": true,
              "type": "boolean",
              "name": "value"
            },
            "render_input": {
            },
            "parse_output": {
            },
            "strip_interpolation": true
          }
        ],
        "comment": "set a variable to determine whether to store whether Customer upsert was performed",
        "uuid": "75ecd947-d87b-48f9-9638-ac8724675272"
      },
      {
        "number": 9,
        "keyword": "if",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "compound",
          "operand": "and",
          "conditions": [
            {
              "operand": "present",
              "lhs": "#{_('data.workato_service.f329a0d7.request.insert_only')}",
              "rhs": null
            },
            {
              "operand": "is_true",
              "lhs": "#{_('data.workato_service.f329a0d7.request.insert_only')}",
              "rhs": null
            }
          ]
        },
        "block": [
          {
            "number": 10,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "c620bcde",
            "title": "Update variable perform_check_if_exists",
            "description": "Update variable <span class=\"provider\">perform_check_if_exists</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "perform_check_if_exists (step 2)"
            },
            "toggleCfg": {
              "value": true
            },
            "input": {
              "name": "1e0b44f9-718a-43ac-b6ba-6adc584beaf7:7226f266",
              "value": "true"
            },
            "extended_input_schema": [
              {
                "type": "boolean",
                "name": "value",
                "control_type": "checkbox",
                "label": "Value",
                "hint": "Provide value for the variable",
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Value",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "hint": "Provide value for the variable",
                  "strip_interpolation": true,
                  "type": "boolean",
                  "name": "value"
                },
                "render_input": {
                },
                "parse_output": {
                },
                "strip_interpolation": true
              }
            ],
            "comment": "Check to see if Customer exists!",
            "uuid": "760ccc1b-5de2-49d8-bc9c-0790cea8fd7f"
          }
        ],
        "comment": "If we only want to do an insert, first check to see if the Customer exists in VersaPay",
        "uuid": "4abf1e4b-68ff-404f-97bb-8165ec9451ad"
      },
      {
        "number": 11,
        "keyword": "if",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "compound",
          "operand": "and",
          "conditions": [
            {
              "operand": "present",
              "lhs": "#{_('data.workato_service.f329a0d7.request.upsert_only_when_present')}",
              "rhs": null
            },
            {
              "operand": "is_true",
              "lhs": "#{_('data.workato_service.f329a0d7.request.upsert_only_when_present')}",
              "rhs": null
            }
          ]
        },
        "block": [
          {
            "number": 12,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "30fe9668",
            "title": "Update variable perform_check_if_exists",
            "description": "Update variable <span class=\"provider\">perform_check_if_exists</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "perform_check_if_exists (step 2)"
            },
            "toggleCfg": {
              "value": true
            },
            "input": {
              "name": "1e0b44f9-718a-43ac-b6ba-6adc584beaf7:7226f266",
              "value": "true"
            },
            "extended_input_schema": [
              {
                "type": "boolean",
                "name": "value",
                "control_type": "checkbox",
                "label": "Value",
                "hint": "Provide value for the variable",
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Value",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "hint": "Provide value for the variable",
                  "strip_interpolation": true,
                  "type": "boolean",
                  "name": "value"
                },
                "render_input": {
                },
                "parse_output": {
                },
                "strip_interpolation": true
              }
            ],
            "comment": "Check to see if Customer exists!",
            "uuid": "3d5c82f1-2825-4f29-bb77-9967456d2d5b"
          }
        ],
        "comment": "If we only want to do an upsert when customer exists, first check to see if the Customer exists in VersaPay",
        "uuid": "5a046d26-f57a-4895-81dc-726711af1bdb"
      },
      {
        "number": 13,
        "keyword": "if",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "compound",
          "operand": "and",
          "conditions": [
            {
              "operand": "is_true",
              "lhs": "#{_('data.workato_variable.7226f266.value')}",
              "rhs": null
            }
          ]
        },
        "block": [
          {
            "number": 14,
            "keyword": "try",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
            },
            "block": [
              {
                "number": 15,
                "provider": "workato_service",
                "name": "call_service",
                "as": "2a519e1f",
                "title": null,
                "description": "Call recipe <span class=\"provider\">Does VersaPay Customer Exist?</span> ",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "flow_id": "Does VersaPay Customer Exist?"
                },
                "toggleCfg": {
                },
                "input": {
                  "flow_id": {
                    "zip_name": "versapay/callable/callable_does_versapay_customer_exist.recipe.json",
                    "name": "Callable - Does VersaPay Customer Exist?",
                    "folder": "versapay/callable"
                  },
                  "request": {
                    "versapay_customer_identifier": "#{_('data.workato_variable.0fcca338.value')}"
                  }
                },
                "extended_output_schema": [
                  {
                    "type": "object",
                    "name": "reply",
                    "label": "Reply",
                    "properties": [
                      {
                        "control_type": "checkbox",
                        "label": "Customer Exists",
                        "render_input": {
                        },
                        "parse_output": {
                        },
                        "toggle_hint": "Select from option list",
                        "toggle_field": {
                          "label": "Customer Exists",
                          "control_type": "text",
                          "toggle_hint": "Use custom value",
                          "name": "customer_exists",
                          "type": "boolean",
                          "optional": false
                        },
                        "name": "customer_exists",
                        "type": "boolean",
                        "optional": false
                      }
                    ]
                  }
                ],
                "extended_input_schema": [
                  {
                    "type": "object",
                    "name": "request",
                    "label": "Recipe input",
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "VersaPay Customer Identifier",
                        "name": "versapay_customer_identifier",
                        "type": "string",
                        "optional": false,
                        "parent": "request"
                      }
                    ]
                  }
                ],
                "uuid": "4a1eacfd-8d0e-42d5-9778-d7d566ae74d9"
              },
              {
                "number": 16,
                "keyword": "if",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "type": "compound",
                  "operand": "and",
                  "conditions": [
                    {
                      "operand": "present",
                      "lhs": "#{_('data.workato_service.f329a0d7.request.insert_only')}",
                      "rhs": null
                    },
                    {
                      "operand": "is_true",
                      "lhs": "#{_('data.workato_service.f329a0d7.request.insert_only')}",
                      "rhs": null
                    },
                    {
                      "operand": "is_true",
                      "lhs": "#{_('data.workato_service.2a519e1f.reply.customer_exists')}",
                      "rhs": null
                    }
                  ]
                },
                "block": [
                  {
                    "number": 17,
                    "provider": "workato_service",
                    "name": "send_reply",
                    "as": "3d4eca83",
                    "title": null,
                    "description": "Return <span class=\"provider\">response</span> from <span class=\"provider\">Upsert NetSuite Partner to VersaPay Customer</span>",
                    "keyword": "action",
                    "dynamicPickListSelection": {
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "reply_type": "success",
                      "reply": {
                        "versapay_customer_identifier": "#{_('data.workato_variable.0fcca338.value')}"
                      }
                    },
                    "extended_input_schema": [
                      {
                        "type": "object",
                        "name": "reply",
                        "label": "Reply",
                        "properties": [
                          {
                            "control_type": "text",
                            "label": "VersaPay Customer Identifier",
                            "name": "versapay_customer_identifier",
                            "type": "string",
                            "optional": false,
                            "hint": "Contains the ID of the VersaPay Customer that was upserted ('0' if no upsert was completed)",
                            "parent": "reply"
                          }
                        ]
                      }
                    ],
                    "comment": "Customer exists, no further action needed!",
                    "uuid": "0d756a1a-0906-4425-964e-35dace3e97fc"
                  },
                  {
                    "number": 18,
                    "keyword": "stop",
                    "dynamicPickListSelection": {
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "stop_with_error": "false"
                    },
                    "uuid": "c8c5ec97-f111-4d62-a384-2d906cc69adb"
                  }
                ],
                "comment": "If we only want to do an insert, first check to see if the Customer exists in VersaPay",
                "uuid": "f30927f0-ad95-4db2-8f33-76e0b7a19d73"
              },
              {
                "number": 19,
                "keyword": "if",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "type": "compound",
                  "operand": "and",
                  "conditions": [
                    {
                      "operand": "present",
                      "lhs": "#{_('data.workato_service.f329a0d7.request.upsert_only_when_present')}",
                      "rhs": null
                    },
                    {
                      "operand": "is_true",
                      "lhs": "#{_('data.workato_service.f329a0d7.request.upsert_only_when_present')}",
                      "rhs": null
                    },
                    {
                      "operand": "is_not_true",
                      "lhs": "#{_('data.workato_service.2a519e1f.reply.customer_exists')}",
                      "rhs": null
                    }
                  ]
                },
                "block": [
                  {
                    "number": 20,
                    "provider": "workato_service",
                    "name": "send_reply",
                    "as": "8c6b8ab6",
                    "title": null,
                    "description": "Return <span class=\"provider\">response</span> from <span class=\"provider\">Upsert NetSuite Partner to VersaPay Customer</span>",
                    "keyword": "action",
                    "dynamicPickListSelection": {
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "reply_type": "success",
                      "reply": {
                        "versapay_customer_identifier": "0"
                      }
                    },
                    "extended_input_schema": [
                      {
                        "type": "object",
                        "name": "reply",
                        "label": "Reply",
                        "properties": [
                          {
                            "control_type": "text",
                            "label": "VersaPay Customer Identifier",
                            "name": "versapay_customer_identifier",
                            "type": "string",
                            "optional": false,
                            "hint": "Contains the ID of the VersaPay Customer that was upserted ('0' if no upsert was completed)"
                          }
                        ]
                      }
                    ],
                    "comment": "Return blank Identifier to indicate Customer was not updated",
                    "uuid": "d239a126-cf41-4504-957d-271c40717920"
                  },
                  {
                    "number": 21,
                    "keyword": "stop",
                    "dynamicPickListSelection": {
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "stop_with_error": "false"
                    },
                    "uuid": "a71afa71-004b-45ff-a158-e83e95efc470"
                  }
                ],
                "comment": "Customer does not exist, no further action needed",
                "uuid": "459b7529-4bbc-4e0b-9eff-1012f10785ff"
              },
              {
                "number": 22,
                "as": "a7628b05",
                "keyword": "catch",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "max_retry_count": "0",
                  "retry_interval": "2"
                },
                "block": [
                  {
                    "number": 23,
                    "provider": "workato_service",
                    "name": "send_reply",
                    "as": "15909b08",
                    "title": null,
                    "description": "Return <span class=\"provider\">response</span> from <span class=\"provider\">Upsert NetSuite Partner to VersaPay Customer</span>",
                    "keyword": "action",
                    "dynamicPickListSelection": {
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "reply_type": "error",
                      "message": "#{_('data.catch.a7628b05.message')}"
                    },
                    "extended_input_schema": [
                      {
                        "type": "string",
                        "name": "message",
                        "control_type": "text",
                        "label": "Message",
                        "hint": "Error message"
                      },
                      {
                        "type": "string",
                        "name": "code",
                        "control_type": "text",
                        "label": "Error code",
                        "hint": "Use this field to set custom HTTP error code for service replies. E.g: 404/422 etc. This field is applicable to REST service recipes.",
                        "optional": true
                      },
                      {
                        "type": "boolean",
                        "name": "custom_error_response",
                        "control_type": "checkbox",
                        "label": "Custom error response?",
                        "hint": "By default, Workato sends 'reply_type' and 'message' fields in response. When set to 'Yes', the content of the 'Message' field is sent as response body. This field is applicable to REST service recipes.",
                        "optional": true,
                        "toggle_hint": "Select from option list",
                        "toggle_field": {
                          "label": "Custom error response?",
                          "control_type": "text",
                          "toggle_hint": "Use custom value",
                          "optional": true,
                          "hint": "By default, Workato sends 'reply_type' and 'message' fields in response. When set to 'Yes', the content of the 'Message' field is sent as response body. This field is applicable to REST service recipes.",
                          "type": "boolean",
                          "name": "custom_error_response"
                        },
                        "render_input": {
                        },
                        "parse_output": {
                        }
                      }
                    ],
                    "uuid": "a40a8c2b-f2e0-4474-8773-38389f9775b2"
                  },
                  {
                    "number": 24,
                    "keyword": "stop",
                    "dynamicPickListSelection": {
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "stop_with_error": "true",
                      "stop_reason": "#{_('data.catch.a7628b05.message')}"
                    },
                    "uuid": "a3032c12-43cd-409d-ade6-ceab66b17f65"
                  }
                ],
                "uuid": "7935617a-e353-4cfb-acca-7e3686c43ac4"
              }
            ],
            "uuid": "c276cd1d-e42b-40ed-b352-1b28ec9c0659"
          }
        ],
        "comment": "",
        "uuid": "00fa0584-ee93-46fb-9f0f-cc6bcd8d8b63"
      },
      {
        "number": 25,
        "keyword": "try",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
        },
        "block": [
          {
            "number": 26,
            "provider": "netsuite",
            "name": "search_object_v2",
            "as": "cb018e19",
            "title": "Search Partners",
            "description": "Search <span class=\"provider\">Partners</span> in <span class=\"provider\">NetSuite</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "netsuite_object": "Partner",
              "field_list": [
                {
                  "label": "Company name",
                  "value": "companyName"
                },
                {
                  "label": "Bill address 1",
                  "value": "billAddress1"
                },
                {
                  "label": "Bill address 2",
                  "value": "billAddress2"
                },
                {
                  "label": "Bill city",
                  "value": "billCity"
                },
                {
                  "label": "Bill country code",
                  "value": "billCountryCode"
                },
                {
                  "label": "Bill state",
                  "value": "billState"
                },
                {
                  "label": "Bill zip code",
                  "value": "billZipCode"
                },
                {
                  "label": "Fax",
                  "value": "fax"
                },
                {
                  "label": "URL",
                  "value": "url"
                },
                {
                  "label": "Internal ID",
                  "value": "internalId"
                },
                {
                  "label": "Phone",
                  "value": "phone"
                }
              ],
              "custom_list": [
                {
                  "label": "Send Invoices via Email",
                  "value": "entityCustomField@7649"
                },
                {
                  "label": "AR Credit Status",
                  "value": "entityCustomField@9977"
                },
                {
                  "label": "Payment Terms",
                  "value": "entityCustomField@2040"
                },
                {
                  "label": "Billing Contact",
                  "value": "entityCustomField@7648"
                }
              ]
            },
            "toggleCfg": {
            },
            "input": {
              "netsuite_object": "Partner",
              "limit": "25",
              "search_settings": {
                "string_fields": "is",
                "integer_fields": "equalTo",
                "list_fields": "anyOf"
              },
              "internalId": "#{_('data.workato_service.f329a0d7.request.ns_partner_internal_id')}",
              "field_list": "companyName\nbillAddress1\nbillAddress2\nbillCity\nbillCountryCode\nbillState\nbillZipCode\nfax\nurl\ninternalId\nphone",
              "custom_list": "entityCustomField@7649\nentityCustomField@9977\nentityCustomField@2040\nentityCustomField@7648"
            },
            "extended_output_schema": [
              {
                "type": "array",
                "name": "Partners",
                "label": "Partners",
                "of": "object",
                "properties": [
                  {
                    "control_type": "text",
                    "label": "Bill address 1",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchColumnStringField",
                    "type": "string",
                    "name": "billAddress1"
                  },
                  {
                    "control_type": "text",
                    "label": "Bill address 2",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchColumnStringField",
                    "type": "string",
                    "name": "billAddress2"
                  },
                  {
                    "control_type": "text",
                    "label": "Bill city",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchColumnStringField",
                    "type": "string",
                    "name": "billCity"
                  },
                  {
                    "control_type": "text",
                    "label": "Bill country code",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchColumnStringField",
                    "type": "string",
                    "name": "billCountryCode"
                  },
                  {
                    "control_type": "text",
                    "label": "Bill state",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchColumnStringField",
                    "type": "string",
                    "name": "billState"
                  },
                  {
                    "control_type": "text",
                    "label": "Bill zip code",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchColumnStringField",
                    "type": "string",
                    "name": "billZipCode"
                  },
                  {
                    "control_type": "text",
                    "label": "Company name",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchColumnStringField",
                    "type": "string",
                    "name": "companyName"
                  },
                  {
                    "control_type": "text",
                    "label": "Fax",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchColumnStringField",
                    "type": "string",
                    "name": "fax"
                  },
                  {
                    "control_type": "text",
                    "label": "Internal ID",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchColumnSelectField",
                    "type": "string",
                    "name": "internalId"
                  },
                  {
                    "control_type": "text",
                    "label": "Phone",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchColumnStringField",
                    "type": "string",
                    "name": "phone"
                  },
                  {
                    "control_type": "text",
                    "label": "URL",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchColumnStringField",
                    "type": "string",
                    "name": "url"
                  },
                  {
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "AR Credit Status ID",
                        "ns_custom_type": "SelectCustomFieldRef",
                        "ns_search_type": "SearchSelectCustomField",
                        "optional": true,
                        "custom": true,
                        "sticky": false,
                        "toggle_hint": "Enter custom value",
                        "toggle_field": {
                          "control_type": "select",
                          "label": "AR Credit Status ID",
                          "toggle_hint": "Select from list",
                          "optional": true,
                          "custom": true,
                          "sticky": false,
                          "type": "string",
                          "name": "f_9977_custentityr7_ar_credit_status",
                          "pick_list": [
                            [
                              "Delinquent",
                              "1"
                            ],
                            [
                              "Credit Hold",
                              "2"
                            ],
                            [
                              "Off",
                              "3"
                            ]
                          ]
                        },
                        "type": "string",
                        "name": "f_9977_custentityr7_ar_credit_status"
                      },
                      {
                        "control_type": "text",
                        "label": "Payment Terms ID",
                        "ns_custom_type": "SelectCustomFieldRef",
                        "ns_search_type": "SearchSelectCustomField",
                        "optional": true,
                        "custom": true,
                        "sticky": false,
                        "toggle_hint": "Enter custom value",
                        "toggle_field": {
                          "control_type": "select",
                          "label": "Payment Terms ID",
                          "toggle_hint": "Select from list",
                          "optional": true,
                          "custom": true,
                          "sticky": false,
                          "type": "string",
                          "name": "f_2040_custentityr7partnerpaymentterms"
                        },
                        "type": "string",
                        "name": "f_2040_custentityr7partnerpaymentterms"
                      },
                      {
                        "control_type": "text",
                        "label": "Billing Contact ID",
                        "ns_custom_type": "SelectCustomFieldRef",
                        "ns_search_type": "SearchSelectCustomField",
                        "optional": true,
                        "custom": true,
                        "sticky": false,
                        "toggle_hint": "Enter custom value",
                        "toggle_field": {
                          "control_type": "select",
                          "label": "Billing Contact ID",
                          "toggle_hint": "Select from list",
                          "optional": true,
                          "custom": true,
                          "sticky": false,
                          "type": "string",
                          "name": "f_7648_custentity_tt_billing_contact"
                        },
                        "type": "string",
                        "name": "f_7648_custentity_tt_billing_contact"
                      }
                    ],
                    "label": "Custom fields",
                    "optional": true,
                    "type": "object",
                    "name": "custom_fields"
                  }
                ]
              }
            ],
            "extended_input_schema": [
              {
                "type": "string",
                "name": "address",
                "control_type": "text",
                "label": "Address",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "addressee",
                "control_type": "text",
                "label": "Addressee",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "addressLabel",
                "control_type": "text",
                "label": "Address label",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "addressPhone",
                "control_type": "text",
                "label": "Address phone",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "boolean",
                "name": "assignTasks",
                "control_type": "checkbox",
                "label": "Assign tasks",
                "optional": true,
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Assign tasks",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "optional": true,
                  "ns_content_type": "element",
                  "ns_tag": "platformCommon",
                  "ns_search_type": "SearchBooleanField",
                  "type": "boolean",
                  "name": "assignTasks"
                },
                "render_input": "render_boolean",
                "parse_output": "parse_boolean",
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchBooleanField"
              },
              {
                "type": "string",
                "name": "attention",
                "control_type": "text",
                "label": "Attention",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "billAddress",
                "control_type": "text",
                "label": "Bill address",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "category",
                "control_type": "text",
                "label": "Category",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchMultiSelectField"
              },
              {
                "type": "string",
                "name": "city",
                "control_type": "text",
                "label": "City",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "class",
                "control_type": "text",
                "label": "Class",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchMultiSelectField"
              },
              {
                "type": "string",
                "name": "comments",
                "control_type": "text",
                "label": "Comments",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "commissionPlan",
                "control_type": "text",
                "label": "Commission plan",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchMultiSelectField"
              },
              {
                "type": "string",
                "name": "country",
                "control_type": "text",
                "label": "Country",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchEnumMultiSelectField"
              },
              {
                "type": "string",
                "name": "county",
                "control_type": "text",
                "label": "County",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "department",
                "control_type": "text",
                "label": "Department",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchMultiSelectField"
              },
              {
                "type": "boolean",
                "name": "eligibleForCommission",
                "control_type": "checkbox",
                "label": "Eligible for commission",
                "optional": true,
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Eligible for commission",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "optional": true,
                  "ns_content_type": "element",
                  "ns_tag": "platformCommon",
                  "ns_search_type": "SearchBooleanField",
                  "type": "boolean",
                  "name": "eligibleForCommission"
                },
                "render_input": "render_boolean",
                "parse_output": "parse_boolean",
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchBooleanField"
              },
              {
                "type": "string",
                "name": "email",
                "control_type": "text",
                "label": "Email",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "emailPreference",
                "control_type": "text",
                "label": "Email preference",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchEnumMultiSelectField"
              },
              {
                "type": "string",
                "name": "entityId",
                "control_type": "text",
                "label": "Entity ID",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "externalId",
                "control_type": "text",
                "label": "External ID",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchMultiSelectField"
              },
              {
                "type": "string",
                "name": "externalIdString",
                "control_type": "text",
                "label": "External ID string",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "fax",
                "control_type": "text",
                "label": "Fax",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "firstName",
                "control_type": "text",
                "label": "First name",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "boolean",
                "name": "giveAccess",
                "control_type": "checkbox",
                "label": "Give access",
                "optional": true,
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Give access",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "optional": true,
                  "ns_content_type": "element",
                  "ns_tag": "platformCommon",
                  "ns_search_type": "SearchBooleanField",
                  "type": "boolean",
                  "name": "giveAccess"
                },
                "render_input": "render_boolean",
                "parse_output": "parse_boolean",
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchBooleanField"
              },
              {
                "type": "string",
                "name": "globalSubscriptionStatus",
                "control_type": "text",
                "label": "Global subscription status",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchEnumMultiSelectField"
              },
              {
                "type": "string",
                "name": "group",
                "control_type": "text",
                "label": "Group",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchMultiSelectField"
              },
              {
                "type": "boolean",
                "name": "hasDuplicates",
                "control_type": "checkbox",
                "label": "Has duplicates",
                "optional": true,
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Has duplicates",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "optional": true,
                  "ns_content_type": "element",
                  "ns_tag": "platformCommon",
                  "ns_search_type": "SearchBooleanField",
                  "type": "boolean",
                  "name": "hasDuplicates"
                },
                "render_input": "render_boolean",
                "parse_output": "parse_boolean",
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchBooleanField"
              },
              {
                "type": "string",
                "name": "image",
                "control_type": "text",
                "label": "Image",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "internalId",
                "control_type": "text",
                "label": "Internal ID",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchMultiSelectField"
              },
              {
                "type": "number",
                "name": "internalIdNumber",
                "control_type": "text",
                "label": "Internal ID number",
                "optional": true,
                "parse_output": "float_conversion",
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchLongField"
              },
              {
                "type": "boolean",
                "name": "isDefaultBilling",
                "control_type": "checkbox",
                "label": "Is default billing",
                "optional": true,
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Is default billing",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "optional": true,
                  "ns_content_type": "element",
                  "ns_tag": "platformCommon",
                  "ns_search_type": "SearchBooleanField",
                  "type": "boolean",
                  "name": "isDefaultBilling"
                },
                "render_input": "render_boolean",
                "parse_output": "parse_boolean",
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchBooleanField"
              },
              {
                "type": "boolean",
                "name": "isDefaultShipping",
                "control_type": "checkbox",
                "label": "Is default shipping",
                "optional": true,
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Is default shipping",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "optional": true,
                  "ns_content_type": "element",
                  "ns_tag": "platformCommon",
                  "ns_search_type": "SearchBooleanField",
                  "type": "boolean",
                  "name": "isDefaultShipping"
                },
                "render_input": "render_boolean",
                "parse_output": "parse_boolean",
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchBooleanField"
              },
              {
                "type": "boolean",
                "name": "isInactive",
                "control_type": "checkbox",
                "label": "Is inactive",
                "optional": true,
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Is inactive",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "optional": true,
                  "ns_content_type": "element",
                  "ns_tag": "platformCommon",
                  "ns_search_type": "SearchBooleanField",
                  "type": "boolean",
                  "name": "isInactive"
                },
                "render_input": "render_boolean",
                "parse_output": "parse_boolean",
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchBooleanField"
              },
              {
                "type": "boolean",
                "name": "isPerson",
                "control_type": "checkbox",
                "label": "Is person",
                "optional": true,
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Is person",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "optional": true,
                  "ns_content_type": "element",
                  "ns_tag": "platformCommon",
                  "ns_search_type": "SearchBooleanField",
                  "type": "boolean",
                  "name": "isPerson"
                },
                "render_input": "render_boolean",
                "parse_output": "parse_boolean",
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchBooleanField"
              },
              {
                "type": "string",
                "name": "language",
                "control_type": "text",
                "label": "Language",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchEnumMultiSelectField"
              },
              {
                "type": "string",
                "name": "lastName",
                "control_type": "text",
                "label": "Last name",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "level",
                "control_type": "text",
                "label": "Level",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchEnumMultiSelectField"
              },
              {
                "type": "string",
                "name": "location",
                "control_type": "text",
                "label": "Location",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchMultiSelectField"
              },
              {
                "type": "string",
                "name": "middleName",
                "control_type": "text",
                "label": "Middle name",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "otherRelationships",
                "control_type": "text",
                "label": "Other relationships",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchEnumMultiSelectField"
              },
              {
                "type": "string",
                "name": "parent",
                "control_type": "text",
                "label": "Parent",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchMultiSelectField"
              },
              {
                "type": "string",
                "name": "partnerCode",
                "control_type": "text",
                "label": "Partner code",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "permission",
                "control_type": "text",
                "label": "Permission",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchEnumMultiSelectField"
              },
              {
                "type": "string",
                "name": "phone",
                "control_type": "text",
                "label": "Phone",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "phoneticName",
                "control_type": "text",
                "label": "Phonetic name",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "promoCode",
                "control_type": "text",
                "label": "Promo code",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchMultiSelectField"
              },
              {
                "type": "string",
                "name": "salutation",
                "control_type": "text",
                "label": "Salutation",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "shipAddress",
                "control_type": "text",
                "label": "Ship address",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "state",
                "control_type": "text",
                "label": "State",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "subsidiary",
                "control_type": "text",
                "label": "Subsidiary",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchMultiSelectField"
              },
              {
                "type": "string",
                "name": "title",
                "control_type": "text",
                "label": "Title",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "uRL",
                "control_type": "text",
                "label": "U RL",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "string",
                "name": "zipCode",
                "control_type": "text",
                "label": "Zip code",
                "optional": true,
                "ns_content_type": "element",
                "ns_tag": "platformCommon",
                "ns_search_type": "SearchStringField"
              },
              {
                "type": "object",
                "name": "custom_fields",
                "label": "Custom fields",
                "optional": true,
                "properties": [
                  {
                    "control_type": "text",
                    "label": "AR Credit Status ID",
                    "ns_custom_type": "SelectCustomFieldRef",
                    "ns_search_type": "SearchSelectCustomField",
                    "optional": true,
                    "custom": true,
                    "sticky": false,
                    "toggle_hint": "Enter custom value",
                    "toggle_field": {
                      "control_type": "select",
                      "label": "AR Credit Status ID",
                      "toggle_hint": "Select from list",
                      "optional": true,
                      "custom": true,
                      "sticky": false,
                      "type": "string",
                      "name": "f_9977_custentityr7_ar_credit_status",
                      "pick_list": [
                        [
                          "Delinquent",
                          "1"
                        ],
                        [
                          "Credit Hold",
                          "2"
                        ],
                        [
                          "Off",
                          "3"
                        ]
                      ],
                      "parent": "custom_fields"
                    },
                    "type": "string",
                    "name": "f_9977_custentityr7_ar_credit_status",
                    "parent": "custom_fields"
                  },
                  {
                    "control_type": "text",
                    "label": "Payment Terms ID",
                    "ns_custom_type": "SelectCustomFieldRef",
                    "ns_search_type": "SearchSelectCustomField",
                    "optional": true,
                    "custom": true,
                    "sticky": false,
                    "toggle_hint": "Enter custom value",
                    "toggle_field": {
                      "control_type": "select",
                      "label": "Payment Terms ID",
                      "toggle_hint": "Select from list",
                      "optional": true,
                      "custom": true,
                      "sticky": false,
                      "type": "string",
                      "name": "f_2040_custentityr7partnerpaymentterms",
                      "parent": "custom_fields"
                    },
                    "type": "string",
                    "name": "f_2040_custentityr7partnerpaymentterms",
                    "parent": "custom_fields"
                  },
                  {
                    "control_type": "text",
                    "label": "Billing Contact ID",
                    "ns_custom_type": "SelectCustomFieldRef",
                    "ns_search_type": "SearchSelectCustomField",
                    "optional": true,
                    "custom": true,
                    "sticky": false,
                    "toggle_hint": "Enter custom value",
                    "toggle_field": {
                      "control_type": "select",
                      "label": "Billing Contact ID",
                      "toggle_hint": "Select from list",
                      "optional": true,
                      "custom": true,
                      "sticky": false,
                      "type": "string",
                      "name": "f_7648_custentity_tt_billing_contact",
                      "parent": "custom_fields"
                    },
                    "type": "string",
                    "name": "f_7648_custentity_tt_billing_contact",
                    "parent": "custom_fields"
                  }
                ]
              }
            ],
            "visible_config_fields": [
              "netsuite_object",
              "limit",
              "field_list",
              "custom_list",
              "search_settings",
              "search_settings.string_fields",
              "search_settings.integer_fields",
              "search_settings.list_fields",
              "internalId"
            ],
            "hidden_config_fields": [
              "custom_column_list"
            ],
            "uuid": "5587d191-9807-4bd8-a995-2bb7f82d1634"
          },
          {
            "number": 27,
            "keyword": "if",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "type": "compound",
              "operand": "and",
              "conditions": [
                {
                  "operand": "present",
                  "lhs": "#{_('data.netsuite.cb018e19.Partners.first.custom_fields.f_7648_custentity_tt_billing_contact')}",
                  "rhs": null
                }
              ]
            },
            "block": [
              {
                "number": 28,
                "provider": "netsuite",
                "name": "search_object_v2",
                "as": "154c4f95",
                "title": "Search Contacts",
                "description": "Search <span class=\"provider\">Contacts</span> in <span class=\"provider\">NetSuite</span>",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "netsuite_object": "Contact",
                  "field_list": [
                    {
                      "label": "Email",
                      "value": "email"
                    },
                    {
                      "label": "Phone",
                      "value": "phone"
                    }
                  ]
                },
                "toggleCfg": {
                },
                "input": {
                  "limit": "25",
                  "search_settings": {
                    "string_fields": "is",
                    "integer_fields": "equalTo",
                    "list_fields": "anyOf"
                  },
                  "netsuite_object": "Contact",
                  "field_list": "email\nphone",
                  "internalId": "#{_('data.netsuite.cb018e19.Partners.first.custom_fields.f_7648_custentity_tt_billing_contact')}"
                },
                "extended_output_schema": [
                  {
                    "type": "array",
                    "name": "Contacts",
                    "label": "Contacts",
                    "of": "object",
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "Email",
                        "optional": true,
                        "ns_content_type": "element",
                        "ns_tag": "platformCommon",
                        "ns_search_type": "SearchColumnStringField",
                        "type": "string",
                        "name": "email"
                      },
                      {
                        "control_type": "text",
                        "label": "Phone",
                        "optional": true,
                        "ns_content_type": "element",
                        "ns_tag": "platformCommon",
                        "ns_search_type": "SearchColumnStringField",
                        "type": "string",
                        "name": "phone"
                      },
                      {
                        "properties": [

                        ],
                        "label": "Custom fields",
                        "optional": true,
                        "type": "object",
                        "name": "custom_fields"
                      }
                    ]
                  }
                ],
                "extended_input_schema": [
                  {
                    "type": "string",
                    "name": "address",
                    "control_type": "text",
                    "label": "Address",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "addressee",
                    "control_type": "text",
                    "label": "Addressee",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "addressLabel",
                    "control_type": "text",
                    "label": "Address label",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "addressPhone",
                    "control_type": "text",
                    "label": "Address phone",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "attention",
                    "control_type": "text",
                    "label": "Attention",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "boolean",
                    "name": "availableOffline",
                    "control_type": "checkbox",
                    "label": "Available offline",
                    "optional": true,
                    "toggle_hint": "Select from option list",
                    "toggle_field": {
                      "label": "Available offline",
                      "control_type": "text",
                      "toggle_hint": "Use custom value",
                      "optional": true,
                      "ns_content_type": "element",
                      "ns_tag": "platformCommon",
                      "ns_search_type": "SearchBooleanField",
                      "type": "boolean",
                      "name": "availableOffline"
                    },
                    "render_input": "render_boolean",
                    "parse_output": "parse_boolean",
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchBooleanField"
                  },
                  {
                    "type": "string",
                    "name": "category",
                    "control_type": "text",
                    "label": "Category",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "city",
                    "control_type": "text",
                    "label": "City",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "comments",
                    "control_type": "text",
                    "label": "Comments",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "company",
                    "control_type": "text",
                    "label": "Company",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "contactRole",
                    "control_type": "text",
                    "label": "Contact role",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "contactSource",
                    "control_type": "text",
                    "label": "Contact source",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "country",
                    "control_type": "text",
                    "label": "Country",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchEnumMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "county",
                    "control_type": "text",
                    "label": "County",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "email",
                    "control_type": "text",
                    "label": "Email",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "employer",
                    "control_type": "text",
                    "label": "Employer",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "entityId",
                    "control_type": "text",
                    "label": "Entity ID",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "externalId",
                    "control_type": "text",
                    "label": "External ID",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "externalIdString",
                    "control_type": "text",
                    "label": "External ID string",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "fax",
                    "control_type": "text",
                    "label": "Fax",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "firstName",
                    "control_type": "text",
                    "label": "First name",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "boolean",
                    "name": "giveAccess",
                    "control_type": "checkbox",
                    "label": "Give access",
                    "optional": true,
                    "toggle_hint": "Select from option list",
                    "toggle_field": {
                      "label": "Give access",
                      "control_type": "text",
                      "toggle_hint": "Use custom value",
                      "optional": true,
                      "ns_content_type": "element",
                      "ns_tag": "platformCommon",
                      "ns_search_type": "SearchBooleanField",
                      "type": "boolean",
                      "name": "giveAccess"
                    },
                    "render_input": "render_boolean",
                    "parse_output": "parse_boolean",
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchBooleanField"
                  },
                  {
                    "type": "string",
                    "name": "globalSubscriptionStatus",
                    "control_type": "text",
                    "label": "Global subscription status",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchEnumMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "group",
                    "control_type": "text",
                    "label": "Group",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchMultiSelectField"
                  },
                  {
                    "type": "boolean",
                    "name": "hasDuplicates",
                    "control_type": "checkbox",
                    "label": "Has duplicates",
                    "optional": true,
                    "toggle_hint": "Select from option list",
                    "toggle_field": {
                      "label": "Has duplicates",
                      "control_type": "text",
                      "toggle_hint": "Use custom value",
                      "optional": true,
                      "ns_content_type": "element",
                      "ns_tag": "platformCommon",
                      "ns_search_type": "SearchBooleanField",
                      "type": "boolean",
                      "name": "hasDuplicates"
                    },
                    "render_input": "render_boolean",
                    "parse_output": "parse_boolean",
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchBooleanField"
                  },
                  {
                    "type": "string",
                    "name": "image",
                    "control_type": "text",
                    "label": "Image",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "internalId",
                    "control_type": "text",
                    "label": "Internal ID",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchMultiSelectField"
                  },
                  {
                    "type": "number",
                    "name": "internalIdNumber",
                    "control_type": "text",
                    "label": "Internal ID number",
                    "optional": true,
                    "parse_output": "float_conversion",
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchLongField"
                  },
                  {
                    "type": "boolean",
                    "name": "isDefaultBilling",
                    "control_type": "checkbox",
                    "label": "Is default billing",
                    "optional": true,
                    "toggle_hint": "Select from option list",
                    "toggle_field": {
                      "label": "Is default billing",
                      "control_type": "text",
                      "toggle_hint": "Use custom value",
                      "optional": true,
                      "ns_content_type": "element",
                      "ns_tag": "platformCommon",
                      "ns_search_type": "SearchBooleanField",
                      "type": "boolean",
                      "name": "isDefaultBilling"
                    },
                    "render_input": "render_boolean",
                    "parse_output": "parse_boolean",
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchBooleanField"
                  },
                  {
                    "type": "boolean",
                    "name": "isDefaultShipping",
                    "control_type": "checkbox",
                    "label": "Is default shipping",
                    "optional": true,
                    "toggle_hint": "Select from option list",
                    "toggle_field": {
                      "label": "Is default shipping",
                      "control_type": "text",
                      "toggle_hint": "Use custom value",
                      "optional": true,
                      "ns_content_type": "element",
                      "ns_tag": "platformCommon",
                      "ns_search_type": "SearchBooleanField",
                      "type": "boolean",
                      "name": "isDefaultShipping"
                    },
                    "render_input": "render_boolean",
                    "parse_output": "parse_boolean",
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchBooleanField"
                  },
                  {
                    "type": "boolean",
                    "name": "isInactive",
                    "control_type": "checkbox",
                    "label": "Is inactive",
                    "optional": true,
                    "toggle_hint": "Select from option list",
                    "toggle_field": {
                      "label": "Is inactive",
                      "control_type": "text",
                      "toggle_hint": "Use custom value",
                      "optional": true,
                      "ns_content_type": "element",
                      "ns_tag": "platformCommon",
                      "ns_search_type": "SearchBooleanField",
                      "type": "boolean",
                      "name": "isInactive"
                    },
                    "render_input": "render_boolean",
                    "parse_output": "parse_boolean",
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchBooleanField"
                  },
                  {
                    "type": "boolean",
                    "name": "isPrivate",
                    "control_type": "checkbox",
                    "label": "Is private",
                    "optional": true,
                    "toggle_hint": "Select from option list",
                    "toggle_field": {
                      "label": "Is private",
                      "control_type": "text",
                      "toggle_hint": "Use custom value",
                      "optional": true,
                      "ns_content_type": "element",
                      "ns_tag": "platformCommon",
                      "ns_search_type": "SearchBooleanField",
                      "type": "boolean",
                      "name": "isPrivate"
                    },
                    "render_input": "render_boolean",
                    "parse_output": "parse_boolean",
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchBooleanField"
                  },
                  {
                    "type": "string",
                    "name": "language",
                    "control_type": "text",
                    "label": "Language",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchEnumMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "lastName",
                    "control_type": "text",
                    "label": "Last name",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "level",
                    "control_type": "text",
                    "label": "Level",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchEnumMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "middleName",
                    "control_type": "text",
                    "label": "Middle name",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "owner",
                    "control_type": "text",
                    "label": "Owner",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "permission",
                    "control_type": "text",
                    "label": "Permission",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchEnumMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "phone",
                    "control_type": "text",
                    "label": "Phone",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "phoneticName",
                    "control_type": "text",
                    "label": "Phonetic name",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "salutation",
                    "control_type": "text",
                    "label": "Salutation",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "state",
                    "control_type": "text",
                    "label": "State",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "subsidiary",
                    "control_type": "text",
                    "label": "Subsidiary",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "title",
                    "control_type": "text",
                    "label": "Title",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "string",
                    "name": "type",
                    "control_type": "text",
                    "label": "Type",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchEnumMultiSelectField"
                  },
                  {
                    "type": "string",
                    "name": "zipCode",
                    "control_type": "text",
                    "label": "Zip code",
                    "optional": true,
                    "ns_content_type": "element",
                    "ns_tag": "platformCommon",
                    "ns_search_type": "SearchStringField"
                  },
                  {
                    "type": "object",
                    "name": "custom_fields",
                    "label": "Custom fields",
                    "optional": true,
                    "properties": [

                    ]
                  }
                ],
                "visible_config_fields": [
                  "netsuite_object",
                  "limit",
                  "field_list",
                  "custom_list",
                  "custom_column_list",
                  "search_settings",
                  "search_settings.string_fields",
                  "search_settings.integer_fields",
                  "search_settings.list_fields",
                  "internalId"
                ],
                "uuid": "3c4e6197-430c-49b8-a849-5d07b025ec09"
              }
            ],
            "uuid": "e880cfe8-670e-4347-b108-200a356c2c3d"
          },
          {
            "number": 29,
            "keyword": "try",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
            },
            "block": [
              {
                "number": 30,
                "provider": "versa_pay_arc_connector_36450_1556732749",
                "name": "upsert_customer",
                "as": "812cebce",
                "title": null,
                "description": null,
                "keyword": "action",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "identifier": "#{_('data.workato_variable.0fcca338.value')}",
                  "name": "=_('data.netsuite.cb018e19.Partners.first.companyName')+(_('data.workato_variable.88ad6c18.value').is_true? ? lookup(\"VERSAPAY_VARIABLES\", name: \"autorenewal.name.append\")[\"value\"] : \"\")",
                  "email": "=_('data.netsuite.154c4f95.Contacts.first.email').present? ? _('data.netsuite.154c4f95.Contacts.first.email')+((_('data.netsuite.154c4f95.Contacts.first.email').ends_with?(\"@rapid7.com\") || lookup(\"VERSAPAY_VARIABLES\", name: \"email.append\")[\"value\"].blank?) ? \"\" : lookup(\"VERSAPAY_VARIABLES\", name: \"email.append\")[\"value\"]) : skip",
                  "address_1": "#{_('data.netsuite.cb018e19.Partners.first.billAddress1')}",
                  "address_2": "#{_('data.netsuite.cb018e19.Partners.first.billAddress2')}",
                  "province": "#{_('data.netsuite.cb018e19.Partners.first.billState')}",
                  "postal_code": "#{_('data.netsuite.cb018e19.Partners.first.billZipCode')}",
                  "country": "#{_('data.netsuite.cb018e19.Partners.first.billCountryCode')}",
                  "city": "#{_('data.netsuite.cb018e19.Partners.first.billCity')}",
                  "fax": "#{_('data.netsuite.cb018e19.Partners.first.fax')}",
                  "url": "#{_('data.netsuite.cb018e19.Partners.first.url')}",
                  "telephone": "#{_('data.netsuite.cb018e19.Partners.first.phone')}",
                  "account_status": "=_('data.netsuite.cb018e19.Partners.first.custom_fields.f_9977_custentityr7_ar_credit_status').present? ? lookup(\"AR_CREDIT_STATUS\", ns_custentityr7_ar_credit_status_id: _('data.netsuite.cb018e19.Partners.first.custom_fields.f_9977_custentityr7_ar_credit_status'))[\"versapay_credit_status\"] : \"open\"",
                  "terms_type": "day",
                  "external_id": "#{_('data.netsuite.cb018e19.Partners.first.internalId')}",
                  "ignores_cc_payment_rules": "false",
                  "terms_value": "=_('data.netsuite.cb018e19.Partners.first.custom_fields.f_2040_custentityr7partnerpaymentterms').present? ? lookup(\"PAYMENT_TERM\", ns_term_id: _('data.netsuite.cb018e19.Partners.first.custom_fields.f_2040_custentityr7partnerpaymentterms'))[\"versapay_payment_term\"] : skip",
                  "line_item_attributes": {
                    "____source": "#{_('data.netsuite.154c4f95.Contacts')}",
                    "email": "=_('data.netsuite.154c4f95.Contacts.first.email').present? ? _('data.netsuite.154c4f95.Contacts.first.email')+((_('data.netsuite.154c4f95.Contacts.first.email').ends_with?(\"@rapid7.com\") || lookup(\"VERSAPAY_VARIABLES\", name: \"email.append\")[\"value\"].blank?) ? \"\" : lookup(\"VERSAPAY_VARIABLES\", name: \"email.append\")[\"value\"]) : skip",
                    "telephone": "#{_('data.netsuite.154c4f95.Contacts.first.phone')}",
                    "bulk_activate": "true"
                  },
                  "notification_suppressed": "false",
                  "parent_identifier": "#{_('data.workato_service.f329a0d7.request.parent_versapay_identifier')}",
                  "tags": "=_('data.workato_variable.88ad6c18.value').is_true? ? lookup(\"VERSAPAY_VARIABLES\", name: \"autorenewal.tag\")[\"value\"] : \"\""
                },
                "visible_config_fields": [
                  "identifier",
                  "name",
                  "email",
                  "address_1",
                  "address_2",
                  "postal_code",
                  "fax",
                  "province",
                  "country",
                  "city",
                  "url",
                  "telephone",
                  "account_status",
                  "terms_type",
                  "terms_value",
                  "external_id",
                  "ignores_cc_payment_rules",
                  "line_item_attributes.email",
                  "line_item_attributes.telephone",
                  "line_item_attributes.bulk_activate",
                  "line_item_attributes",
                  "notification_suppressed",
                  "parent_identifier",
                  "tags"
                ],
                "uuid": "90ea651a-b350-43ff-b771-cf0ae2a243f9"
              },
              {
                "number": 31,
                "as": "8020517e",
                "keyword": "catch",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "max_retry_count": "3",
                  "retry_interval": "5"
                },
                "filter": {
                  "conditions": [
                    {
                      "operand": "starts_with",
                      "lhs": "#{_('data.catch.8020517e.message')}",
                      "rhs": "504 Gateway Timeout"
                    }
                  ],
                  "operand": "and",
                  "type": "compound"
                },
                "block": [
                  {
                    "number": 32,
                    "keyword": "stop",
                    "dynamicPickListSelection": {
                    },
                    "toggleCfg": {
                    },
                    "input": {
                      "stop_with_error": "true",
                      "stop_reason": "Cannot upsert partner #{_('data.workato_service.f329a0d7.request.ns_partner_internal_id')}: #{_('data.catch.8020517e.message')}"
                    },
                    "uuid": "fdeae558-ecb9-47c9-bb3f-8db5769aa331"
                  }
                ],
                "uuid": "797ff3c2-65cf-4d98-9b04-a2e45691ca4a"
              }
            ],
            "uuid": "f1c8cec4-ebbe-4a15-acfd-41626fe397fc"
          },
          {
            "number": 33,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "5fddb29e",
            "title": "Update variable customer_upsert_performed",
            "description": "Update variable <span class=\"provider\">customer_upsert_performed</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "customer_upsert_performed (step 3)"
            },
            "toggleCfg": {
              "value": true
            },
            "input": {
              "name": "75ecd947-d87b-48f9-9638-ac8724675272:e2452078",
              "value": "true"
            },
            "extended_input_schema": [
              {
                "type": "boolean",
                "name": "value",
                "control_type": "checkbox",
                "label": "Value",
                "hint": "Provide value for the variable",
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Value",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "hint": "Provide value for the variable",
                  "strip_interpolation": true,
                  "type": "boolean",
                  "name": "value"
                },
                "render_input": {
                },
                "parse_output": {
                },
                "strip_interpolation": true
              }
            ],
            "uuid": "d15249e6-12d8-4650-83ba-1360f604d084"
          },
          {
            "number": 34,
            "as": "743c0196",
            "keyword": "catch",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "max_retry_count": "0",
              "retry_interval": "2"
            },
            "block": [
              {
                "number": 35,
                "provider": "workato_service",
                "name": "call_service_async",
                "as": "11651fc5",
                "title": null,
                "description": "Call recipe <span class=\"provider\">Log Error to MySQL Failed Jobs</span> (do not wait for response)",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "flow_id": "Log Error to MySQL Failed Jobs"
                },
                "toggleCfg": {
                },
                "input": {
                  "flow_id": {
                    "zip_name": "util/callable_log_error_to_mysql_failed_jobs.recipe.json",
                    "name": "Callable | Log Error to MySQL Failed Jobs",
                    "folder": "util"
                  },
                  "request": {
                    "recipe_id": "#{_('data.workato.job_context.recipe_id')}",
                    "recipe_name": "Callable - Upsert NetSuite Partner to VersaPay Customer",
                    "recipe_job_id": "#{_('data.workato.job_context.job_id')}",
                    "recipe_job_created_at": "#{_('data.workato.job_context.job_created_at')}",
                    "error_type": "#{_('data.catch.743c0196.type')}",
                    "error_message": "#{_('data.catch.743c0196.message')}"
                  }
                },
                "extended_input_schema": [
                  {
                    "type": "object",
                    "name": "request",
                    "label": "Recipe input",
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "Recipe ID",
                        "name": "recipe_id",
                        "type": "string",
                        "optional": false,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Recipe Name",
                        "name": "recipe_name",
                        "type": "string",
                        "optional": false,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Recipe Job ID",
                        "name": "recipe_job_id",
                        "type": "string",
                        "optional": false,
                        "parent": "request"
                      },
                      {
                        "control_type": "date",
                        "label": "Recipe Job Created At",
                        "render_input": "date_conversion",
                        "parse_output": "date_conversion",
                        "name": "recipe_job_created_at",
                        "type": "date_time",
                        "optional": false,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Recipe Job URL",
                        "name": "recipe_job_url",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Parent Job ID",
                        "name": "parent_job_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Calling Recipe ID",
                        "name": "calling_recipe_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Calling Job ID",
                        "name": "calling_job_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Error Type",
                        "name": "error_type",
                        "type": "string",
                        "optional": false,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Error Message",
                        "name": "error_message",
                        "type": "string",
                        "optional": false,
                        "parent": "request"
                      },
                      {
                        "control_type": "integer",
                        "label": "Error Retry Count",
                        "parse_output": "integer_conversion",
                        "name": "error_retry_count",
                        "type": "integer",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Element DUNS",
                        "name": "element_duns",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Element NS Contact Internal ID",
                        "name": "element_ns_contact_internal_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Element NS Customer Internal ID",
                        "name": "element_ns_customer_internal_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Element NS Employee ID",
                        "name": "element_ns_employee_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Element SFDC Account ID",
                        "name": "element_sfdc_account_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Element SFDC Case ID",
                        "name": "element_sfdc_case_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Element SFDC Case Attachment ID",
                        "name": "element_sfdc_case_attachment_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Element SFDC Case Comment ID",
                        "name": "element_sfdc_case_comment_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Element SFDC Contact ID",
                        "name": "element_sfdc_contact_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Element SFDC Team Role",
                        "name": "element_sfdc_team_role",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      },
                      {
                        "control_type": "text",
                        "label": "Element SFDC User ID",
                        "name": "element_sfdc_user_id",
                        "type": "string",
                        "optional": true,
                        "parent": "request"
                      }
                    ]
                  }
                ],
                "uuid": "5c5d9f1e-2f21-4711-94e4-d0936bfcfdab"
              },
              {
                "number": 36,
                "provider": "workato_service",
                "name": "send_reply",
                "as": "1899294a",
                "title": null,
                "description": "Return <span class=\"provider\">response</span> from <span class=\"provider\">Upsert NetSuite Partner to VersaPay Customer</span>",
                "keyword": "action",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "reply_type": "error",
                  "message": "#{_('data.catch.743c0196.message')}"
                },
                "extended_input_schema": [
                  {
                    "type": "string",
                    "name": "message",
                    "control_type": "text",
                    "label": "Message",
                    "hint": "Error message"
                  },
                  {
                    "type": "string",
                    "name": "code",
                    "control_type": "text",
                    "label": "Error code",
                    "hint": "Use this field to set custom HTTP error code for service replies. E.g: 404/422 etc. This field is applicable to REST service recipes.",
                    "optional": true
                  },
                  {
                    "type": "boolean",
                    "name": "custom_error_response",
                    "control_type": "checkbox",
                    "label": "Custom error response?",
                    "hint": "By default, Workato sends 'reply_type' and 'message' fields in response. When set to 'Yes', the content of the 'Message' field is sent as response body. This field is applicable to REST service recipes.",
                    "optional": true,
                    "toggle_hint": "Select from option list",
                    "toggle_field": {
                      "label": "Custom error response?",
                      "control_type": "text",
                      "toggle_hint": "Use custom value",
                      "optional": true,
                      "hint": "By default, Workato sends 'reply_type' and 'message' fields in response. When set to 'Yes', the content of the 'Message' field is sent as response body. This field is applicable to REST service recipes.",
                      "type": "boolean",
                      "name": "custom_error_response"
                    },
                    "render_input": {
                    },
                    "parse_output": {
                    }
                  }
                ],
                "comment": "Pass error back to calling recipe",
                "uuid": "e2322a10-1e27-4afb-87fe-83171252a92c"
              },
              {
                "number": 37,
                "keyword": "stop",
                "dynamicPickListSelection": {
                },
                "toggleCfg": {
                },
                "input": {
                  "stop_with_error": "true",
                  "stop_reason": "#{_('data.catch.743c0196.message')}"
                },
                "uuid": "9b3e8649-e1c5-4c01-b6ca-72c8015fcb8e"
              }
            ],
            "uuid": "8376f9e7-0dd8-4825-a416-c58c889d0df8"
          }
        ],
        "uuid": "9c71dfe9-f406-4d92-a115-fa972ab993b7"
      },
      {
        "number": 38,
        "provider": "workato_service",
        "name": "send_reply",
        "as": "79160664",
        "title": null,
        "description": "Return <span class=\"provider\">response</span> from <span class=\"provider\">Upsert NetSuite Partner to VersaPay Customer</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "reply_type": "success",
          "reply": {
            "versapay_customer_identifier": "#{_('data.workato_variable.0fcca338.value')}"
          }
        },
        "extended_input_schema": [
          {
            "type": "object",
            "name": "reply",
            "label": "Reply",
            "properties": [
              {
                "control_type": "text",
                "label": "VersaPay Customer Identifier",
                "name": "versapay_customer_identifier",
                "type": "string",
                "optional": false,
                "hint": "Contains the ID of the VersaPay Customer that was upserted ('0' if no upsert was completed)",
                "parent": "reply"
              }
            ]
          }
        ],
        "comment": "Return the Identifier of the VersaPay Customer that was updated",
        "uuid": "25079dd2-cd01-469a-82f0-4668e0afad9d"
      }
    ],
    "job_report_schema": [
      {
        "name": "custom_column_1",
        "label": "Internal ID"
      },
      {
        "name": "custom_column_2",
        "label": "Details"
      },
      {
        "name": "custom_column_3",
        "label": "Result"
      }
    ],
    "job_report_config": {
      "custom_column_1": "#{_('data.workato_service.f329a0d7.request.ns_partner_internal_id')}",
      "custom_column_2": "=(_('data.workato_service.f329a0d7.request.insert_only').is_true? ? \"insert-only \" : \"\")+(_('data.workato_service.f329a0d7.request.upsert_only_when_present').is_true? ? \"upsert-only-when-present \" : \"\")+(_('data.workato_service.f329a0d7.request.is_autorenewal_child').is_true? ? \"autorenewal-child \" : \"\")",
      "custom_column_3": "=_('data.workato_variable.e2452078.value').is_true? ? \"upsert-performed\" : \"\""
    },
    "uuid": "7587a7ab-2bae-43c6-a884-85ca14392190"
  },
  "config": [
    {
      "keyword": "application",
      "provider": "workato_service",
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "versa_pay_arc_connector_36450_1556732749",
      "account_id": {
        "zip_name": "resources/versapay_arc.connection.json",
        "name": "VersaPay ARC",
        "folder": "resources",
        "custom": true
      }
    },
    {
      "keyword": "application",
      "provider": "netsuite",
      "account_id": {
        "zip_name": "resources/netsuite.connection.json",
        "name": "NetSuite",
        "folder": "resources"
      }
    },
    {
      "keyword": "application",
      "provider": "workato_variable",
      "account_id": null
    }
  ]
}