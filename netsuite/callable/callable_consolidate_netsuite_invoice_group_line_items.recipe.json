{
  "name": "Callable - Consolidate NetSuite Invoice Group Line Items",
  "description": "When there is a trigger event, do action",
  "version": 6,
  "private": true,
  "concurrency": 5,
  "code": {
    "number": 0,
    "provider": "workato_service",
    "name": "receive_request",
    "as": "53cd1e76",
    "title": null,
    "description": "New <span class=\"provider\">call</span> for <span class=\"provider\">Consolidate NetSuite Invoice Group Line Items</span>",
    "keyword": "trigger",
    "dynamicPickListSelection": {
    },
    "toggleCfg": {
    },
    "input": {
      "service_name": "Consolidate NetSuite Invoice Group Line Items",
      "request_schema_json": "[{\"control_type\":\"text\",\"label\":\"Type\",\"name\":\"type\",\"type\":\"string\",\"optional\":true,\"hint\":\"used to specify whether there a specific grouping strategy to use (i.e. for type \\\"1price\\\" all DISC line items are hidden)\"},{\"name\":\"items\",\"type\":\"array\",\"of\":\"object\",\"label\":\"items\",\"optional\":false,\"properties\":[{\"control_type\":\"text\",\"label\":\"Number\",\"name\":\"number\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Name\",\"name\":\"name\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Display Name\",\"name\":\"display_name\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Type\",\"name\":\"type\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Description\",\"name\":\"description\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Net Amount\",\"name\":\"net_amount\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Discount\",\"name\":\"discount\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Partner Discount\",\"name\":\"partner_discount\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Amount\",\"name\":\"amount\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Unit cost\",\"name\":\"unit_cost\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Unit\",\"name\":\"unit\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Tax rate\",\"name\":\"tax_rate\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Quantity\",\"name\":\"quantity\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Term\",\"name\":\"term\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Start date\",\"name\":\"start_date\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"End date\",\"name\":\"end_date\",\"type\":\"string\",\"optional\":true}]}]",
      "reply_schema_json": "[{\"name\":\"consolidated_array\",\"type\":\"array\",\"of\":\"object\",\"label\":\"consolidated array\",\"properties\":[{\"control_type\":\"text\",\"label\":\"Number\",\"name\":\"number\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Name\",\"name\":\"name\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Display Name\",\"name\":\"display_name\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Description\",\"name\":\"description\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Net Amount\",\"name\":\"net_amount\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Discount\",\"name\":\"discount\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Partner Discount\",\"name\":\"partner_discount\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Amount\",\"name\":\"amount\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Unit cost\",\"name\":\"unit_cost\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Unit\",\"name\":\"unit\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Tax rate\",\"name\":\"tax_rate\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Quantity\",\"name\":\"quantity\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Order Key\",\"name\":\"order_key\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Term\",\"name\":\"term\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Start date\",\"name\":\"start_date\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"End date\",\"name\":\"end_date\",\"type\":\"string\",\"optional\":true}]}]"
    },
    "extended_output_schema": [
      {
        "type": "object",
        "name": "request",
        "label": "Recipe input",
        "properties": [
          {
            "control_type": "text",
            "label": "Type",
            "name": "type",
            "type": "string",
            "optional": true,
            "hint": "used to specify whether there a specific grouping strategy to use (i.e. for type \"1price\" all DISC line items are hidden)"
          },
          {
            "name": "items",
            "type": "array",
            "of": "object",
            "label": "items",
            "optional": false,
            "properties": [
              {
                "control_type": "text",
                "label": "Number",
                "name": "number",
                "type": "string"
              },
              {
                "control_type": "text",
                "label": "Name",
                "name": "name",
                "type": "string"
              },
              {
                "control_type": "text",
                "label": "Display Name",
                "name": "display_name",
                "type": "string"
              },
              {
                "control_type": "text",
                "label": "Type",
                "name": "type",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "Description",
                "name": "description",
                "type": "string"
              },
              {
                "control_type": "text",
                "label": "Net Amount",
                "name": "net_amount",
                "type": "string",
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Discount",
                "name": "discount",
                "type": "string",
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Partner Discount",
                "name": "partner_discount",
                "type": "string",
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Amount",
                "name": "amount",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "Unit cost",
                "name": "unit_cost",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "Unit",
                "name": "unit",
                "type": "string"
              },
              {
                "control_type": "text",
                "label": "Tax rate",
                "name": "tax_rate",
                "type": "string"
              },
              {
                "control_type": "text",
                "label": "Quantity",
                "name": "quantity",
                "type": "string"
              },
              {
                "control_type": "text",
                "label": "Term",
                "name": "term",
                "type": "string",
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Start date",
                "name": "start_date",
                "type": "string",
                "optional": true
              },
              {
                "control_type": "text",
                "label": "End date",
                "name": "end_date",
                "type": "string",
                "optional": true
              }
            ]
          }
        ]
      }
    ],
    "block": [
      {
        "number": 1,
        "provider": "workato_custom_code",
        "name": "invoke_custom_ruby_code",
        "as": "1d8f3d0b",
        "title": null,
        "description": "Execute <span class=\"provider\">ruby</span> code: <span class=\"provider\">consolidate_items</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "code": "full_list = input[\"items\"] || {}\nconsolidationStrategyType = input[\"type\"]\ngroup = []\noutput = []\ndebug = []\n\nfull_list.each do |i|\n  item_name = i[\"name\"]\n  \n  if (item_name.downcase == \"end of group\" || (i[\"type\"].present? && i[\"type\"].downcase == \"_endofgroup\"))\n     # end of group detected, so only add the first member of the group to the ouput\n\t debug << {\"line\" => \"end of group detected, rolling up group and adding to output \"}\n        \n     if (group.length > 0)\n        # only add the first member of the group to the ouput\n        group_header = group[0]\n        \n        # but first update the group amount with the \"end of group\" amount\n        group_header[\"amount\"] = i[\"amount\"]\n        \n        # add the group header to the output\n        group_header[\"order_key\"] = output.length\n        output << group_header\n        debug << {\"line\" => group_header[\"name\"]+\" appended to output, group cleared \"}\n        \n        # reset the group\n        group = []\n     else\n        debug << {\"line\" => \"no items in group, end of group ignored \"}\n     end  \n  elsif (consolidationStrategyType == \"1price\" && (item_name == \"DISC\" || item_name == \"Partner Discount\"))\n     # if we are consolidating for 1price templates, hide all DISC items \n  \t debug << {\"line\" => item_name+\" removed since this is a 1price template\"}\n  \n  elsif (group.length > 0)\n     # a group has been started, so we'll add all items to this group until \"end of group\" is reached \n  \t group << i\n     debug << {\"line\" => item_name+\" appended to group\"}\n    \n  elsif (i[\"type\"].present? && i[\"type\"].downcase == \"_itemgroup\" )\n     # this item is the start of a group\n     group << i\n     debug << {\"line\" => item_name+\" started a new group\"}\n  \n  else\n     # this item is not part of a group, add it to the output\n     i[\"order_key\"] = output.length\n     output << i\n     debug << {\"line\" => item_name+\" appended to output\"}\n  end\n\nend\n\n# if anything is still in the group, add it to the output\ngroup.each do |i|\n   i[\"order_key\"] = output.length\n   output << i\nend\ndebug << {\"line\" => \"all items in group appended to output\"}\n\n{ consolidated_array: output, debug: debug }",
          "name": "consolidate_items",
          "code_input": {
            "schema": "[{\"name\":\"type\",\"type\":\"string\",\"optional\":true,\"label\":\"type\",\"control_type\":\"text\"},{\"name\":\"items\",\"type\":\"array\",\"optional\":false,\"label\":\"items\",\"properties\":[{\"name\":\"number\"},{\"name\":\"name\"},{\"name\":\"display_name\"},{\"name\":\"type\"},{\"name\":\"description\"},{\"name\":\"net_amount\"},{\"name\":\"discount\"},{\"name\":\"partner_discount\"},{\"name\":\"amount\"},{\"name\":\"unit_cost\"},{\"name\":\"unit\"},{\"name\":\"tax_rate\"},{\"name\":\"quantity\"},{\"name\":\"term\"},{\"name\":\"start_date\"},{\"name\":\"end_date\"}]}]",
            "data": {
              "items": {
                "____source": "#{_('data.workato_service.53cd1e76.request.items')}",
                "number": "#{_('data.workato_service.53cd1e76.request.items.first.number')}",
                "name": "#{_('data.workato_service.53cd1e76.request.items.first.name')}",
                "description": "#{_('data.workato_service.53cd1e76.request.items.first.description')}",
                "amount": "#{_('data.workato_service.53cd1e76.request.items.first.amount')}",
                "unit_cost": "#{_('data.workato_service.53cd1e76.request.items.first.unit_cost')}",
                "unit": "#{_('data.workato_service.53cd1e76.request.items.first.unit')}",
                "tax_rate": "#{_('data.workato_service.53cd1e76.request.items.first.tax_rate')}",
                "quantity": "#{_('data.workato_service.53cd1e76.request.items.first.quantity')}",
                "display_name": "#{_('data.workato_service.53cd1e76.request.items.first.display_name')}",
                "type": "#{_('data.workato_service.53cd1e76.request.items.first.type')}",
                "discount": "#{_('data.workato_service.53cd1e76.request.items.first.discount')}",
                "term": "#{_('data.workato_service.53cd1e76.request.items.first.term')}",
                "start_date": "#{_('data.workato_service.53cd1e76.request.items.first.start_date')}",
                "end_date": "#{_('data.workato_service.53cd1e76.request.items.first.end_date')}",
                "net_amount": "#{_('data.workato_service.53cd1e76.request.items.first.net_amount')}",
                "partner_discount": "#{_('data.workato_service.53cd1e76.request.items.first.partner_discount')}"
              },
              "type": "#{_('data.workato_service.53cd1e76.request.type')}"
            }
          },
          "code_output_schema_json": "[{\"name\":\"consolidated_array\",\"type\":\"array\",\"of\":\"object\",\"label\":\"consolidated array\",\"properties\":[{\"control_type\":\"text\",\"label\":\"Number\",\"name\":\"number\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Name\",\"name\":\"name\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Display Name\",\"name\":\"display_name\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Description\",\"name\":\"description\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Net Amount\",\"name\":\"net_amount\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Discount\",\"name\":\"discount\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Partner Discount\",\"name\":\"partner_discount\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Amount\",\"name\":\"amount\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Unit Cost\",\"name\":\"unit_cost\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Unit\",\"name\":\"unit\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Tax rate\",\"name\":\"tax_rate\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Quantity\",\"name\":\"quantity\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Order Key\",\"name\":\"order_key\",\"type\":\"string\"},{\"control_type\":\"text\",\"label\":\"Term\",\"name\":\"term\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Start date\",\"name\":\"start_date\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"End date\",\"name\":\"end_date\",\"type\":\"string\",\"optional\":true}]},{\"name\":\"debug\",\"type\":\"array\",\"of\":\"object\",\"label\":\"debug\",\"properties\":[{\"control_type\":\"text\",\"label\":\"line\",\"name\":\"line\",\"type\":\"string\"}]}]"
        },
        "extended_output_schema": [
          {
            "type": "object",
            "name": "output",
            "label": "Output",
            "properties": [
              {
                "name": "consolidated_array",
                "type": "array",
                "of": "object",
                "label": "consolidated array",
                "properties": [
                  {
                    "control_type": "text",
                    "label": "Number",
                    "name": "number",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "label": "Name",
                    "name": "name",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "label": "Display Name",
                    "name": "display_name",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "label": "Description",
                    "name": "description",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "label": "Net Amount",
                    "name": "net_amount",
                    "type": "string",
                    "optional": true
                  },
                  {
                    "control_type": "text",
                    "label": "Discount",
                    "name": "discount",
                    "type": "string",
                    "optional": true
                  },
                  {
                    "control_type": "text",
                    "label": "Partner Discount",
                    "name": "partner_discount",
                    "type": "string",
                    "optional": true
                  },
                  {
                    "control_type": "text",
                    "label": "Amount",
                    "name": "amount",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "label": "Unit Cost",
                    "name": "unit_cost",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "label": "Unit",
                    "name": "unit",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "label": "Tax rate",
                    "name": "tax_rate",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "label": "Quantity",
                    "name": "quantity",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "label": "Order Key",
                    "name": "order_key",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "label": "Term",
                    "name": "term",
                    "type": "string",
                    "optional": true
                  },
                  {
                    "control_type": "text",
                    "label": "Start date",
                    "name": "start_date",
                    "type": "string",
                    "optional": true
                  },
                  {
                    "control_type": "text",
                    "label": "End date",
                    "name": "end_date",
                    "type": "string",
                    "optional": true
                  }
                ]
              },
              {
                "name": "debug",
                "type": "array",
                "of": "object",
                "label": "debug",
                "properties": [
                  {
                    "control_type": "text",
                    "label": "line",
                    "name": "line",
                    "type": "string"
                  }
                ]
              }
            ]
          }
        ],
        "extended_input_schema": [
          {
            "type": "object",
            "name": "code_input",
            "control_type": "form-schema-builder",
            "label": "Input",
            "sticky": true,
            "optional": true,
            "properties": [
              {
                "control_type": "text",
                "label": "Schema",
                "extends_schema": true,
                "type": "string",
                "name": "schema",
                "parent": "code_input"
              },
              {
                "properties": [
                  {
                    "control_type": "text",
                    "label": "type",
                    "name": "type",
                    "type": "string",
                    "optional": true,
                    "parent": "code_input.data"
                  },
                  {
                    "name": "items",
                    "type": "array",
                    "of": "object",
                    "label": "items",
                    "optional": false,
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "Number",
                        "name": "number",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Name",
                        "name": "name",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Display name",
                        "name": "display_name",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Type",
                        "name": "type",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Description",
                        "name": "description",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Net amount",
                        "name": "net_amount",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Discount",
                        "name": "discount",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Partner discount",
                        "name": "partner_discount",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Amount",
                        "name": "amount",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Unit cost",
                        "name": "unit_cost",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Unit",
                        "name": "unit",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Tax rate",
                        "name": "tax_rate",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Quantity",
                        "name": "quantity",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Term",
                        "name": "term",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "Start date",
                        "name": "start_date",
                        "type": "string",
                        "parent": "code_input.data.items"
                      },
                      {
                        "control_type": "text",
                        "label": "End date",
                        "name": "end_date",
                        "type": "string",
                        "parent": "code_input.data.items"
                      }
                    ],
                    "parent": "code_input.data"
                  }
                ],
                "label": "Data",
                "type": "object",
                "name": "data",
                "parent": "code_input"
              }
            ],
            "override": true
          }
        ],
        "visible_config_fields": [
          "name",
          "code_input",
          "code_output_schema_json",
          "code",
          "code_input.data.items",
          "code_input.schema",
          "code_input.data",
          "code_input.data.items.number",
          "code_input.data.items.name",
          "code_input.data.items.description",
          "code_input.data.items.amount",
          "code_input.data.items.unit_cost",
          "code_input.data.items.unit",
          "code_input.data.items.tax_rate",
          "code_input.data.items.quantity",
          "code_input.data.items.display_name",
          "code_input.data.type"
        ],
        "uuid": "a1d2b239-0b9c-4f6a-9ac4-9b817edd51f4"
      },
      {
        "number": 2,
        "provider": "workato_service",
        "name": "send_reply",
        "as": "467c6b6c",
        "title": null,
        "description": "Return <span class=\"provider\">response</span> from <span class=\"provider\">Consolidate NetSuite Invoice Group Line Items</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "reply_type": "success",
          "reply": {
            "consolidated_array": {
              "____source": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array')}",
              "number": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.number')}",
              "name": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.name')}",
              "description": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.description')}",
              "amount": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.amount')}",
              "unit_cost": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.unit_cost')}",
              "unit": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.unit')}",
              "tax_rate": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.tax_rate')}",
              "quantity": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.quantity')}",
              "order_key": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.order_key')}",
              "display_name": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.display_name')}",
              "discount": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.discount')}",
              "term": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.term')}",
              "start_date": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.start_date')}",
              "end_date": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.end_date')}",
              "net_amount": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.net_amount')}",
              "partner_discount": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.partner_discount')}"
            }
          }
        },
        "extended_input_schema": [
          {
            "type": "object",
            "name": "reply",
            "label": "Reply",
            "properties": [
              {
                "name": "consolidated_array",
                "type": "array",
                "of": "object",
                "label": "consolidated array",
                "properties": [
                  {
                    "control_type": "text",
                    "label": "Number",
                    "name": "number",
                    "type": "string",
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Name",
                    "name": "name",
                    "type": "string",
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Display Name",
                    "name": "display_name",
                    "type": "string",
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Description",
                    "name": "description",
                    "type": "string",
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Net Amount",
                    "name": "net_amount",
                    "type": "string",
                    "optional": true,
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Discount",
                    "name": "discount",
                    "type": "string",
                    "optional": true,
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Partner Discount",
                    "name": "partner_discount",
                    "type": "string",
                    "optional": true,
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Amount",
                    "name": "amount",
                    "type": "string",
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Unit cost",
                    "name": "unit_cost",
                    "type": "string",
                    "optional": false,
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Unit",
                    "name": "unit",
                    "type": "string",
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Tax rate",
                    "name": "tax_rate",
                    "type": "string",
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Quantity",
                    "name": "quantity",
                    "type": "string",
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Order Key",
                    "name": "order_key",
                    "type": "string",
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Term",
                    "name": "term",
                    "type": "string",
                    "optional": true,
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "Start date",
                    "name": "start_date",
                    "type": "string",
                    "optional": true,
                    "parent": "reply.consolidated_array"
                  },
                  {
                    "control_type": "text",
                    "label": "End date",
                    "name": "end_date",
                    "type": "string",
                    "optional": true,
                    "parent": "reply.consolidated_array"
                  }
                ],
                "parent": "reply"
              }
            ]
          }
        ],
        "visible_config_fields": [
          "reply_type",
          "reply",
          "reply.consolidated_array",
          "reply.consolidated_array.number",
          "reply.consolidated_array.name",
          "reply.consolidated_array.display_name",
          "reply.consolidated_array.description",
          "reply.consolidated_array.amount",
          "reply.consolidated_array.unit_cost",
          "reply.consolidated_array.unit",
          "reply.consolidated_array.tax_rate",
          "reply.consolidated_array.quantity",
          "reply.consolidated_array.order_key",
          "reply.consolidated_array.pre_discount_amount",
          "reply.consolidated_array.discount",
          "reply.consolidated_array.term",
          "reply.consolidated_array.start_date",
          "reply.consolidated_array.end_date",
          "reply.consolidated_array.net_amount",
          "reply.consolidated_array.partner_discount"
        ],
        "uuid": "d576e24a-a45a-4a06-b755-647cdb6f4c30"
      }
    ],
    "job_report_schema": [
      {
        "name": "custom_column_1",
        "label": "Starting Item Count"
      },
      {
        "name": "custom_column_2",
        "label": "Final Item Count"
      }
    ],
    "job_report_config": {
      "custom_column_1": "#{_('data.workato_service.53cd1e76.request.items.first.____Size', 'list_meta', '____Size', 'data.workato_service.53cd1e76.request.items')}",
      "custom_column_2": "#{_('data.workato_custom_code.1d8f3d0b.output.consolidated_array.first.____Size', 'list_meta', '____Size', 'data.workato_custom_code.1d8f3d0b.output.consolidated_array')}"
    },
    "uuid": "45b13bb1-ae49-446c-a4a7-39463e443044"
  },
  "config": [
    {
      "keyword": "application",
      "provider": "workato_service",
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_custom_code",
      "account_id": null
    }
  ]
}