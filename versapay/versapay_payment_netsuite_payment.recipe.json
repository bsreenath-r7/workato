{
  "name": "VersaPay Payment - NetSuite Payment",
  "description": "When there is a trigger event, do action",
  "version": 2,
  "private": true,
  "concurrency": 5,
  "code": {
    "number": 0,
    "provider": "versa_pay_arc_connector_36450_1556732749",
    "name": "view_updated_payments",
    "as": "cff5435b",
    "keyword": "trigger",
    "dynamicPickListSelection": {
    },
    "toggleCfg": {
    },
    "input": {
    },
    "filter": {
      "conditions": [
        {
          "operand": "equals_to",
          "lhs": "#{_('data.versa_pay_arc_connector_36450_1556732749.cff5435b.payment_source')}",
          "rhs": "ARC"
        },
        {
          "operand": "equals_to",
          "lhs": "#{_('data.versa_pay_arc_connector_36450_1556732749.cff5435b.status')}",
          "rhs": "PAID"
        },
        {
          "operand": "is_not_true",
          "lhs": "=_('data.versa_pay_arc_connector_36450_1556732749.cff5435b.customer_identifier').starts_with?(\"test\")",
          "rhs": null
        }
      ],
      "operand": "and",
      "type": "compound"
    },
    "block": [
      {
        "number": 1,
        "provider": "workato_service",
        "name": "call_service_async",
        "as": "4cc12cb8",
        "title": null,
        "description": "Call recipe <span class=\"provider\">Upsert VersaPay Payment to NetSuite</span> (do not wait for response)",
        "keyword": "action",
        "dynamicPickListSelection": {
          "flow_id": "Upsert VersaPay Payment to NetSuite"
        },
        "toggleCfg": {
        },
        "input": {
          "flow_id": {
            "zip_name": "versapay/callable/callable_upsert_versapay_payment_to_netsuite.recipe.json",
            "name": "Callable - Upsert VersaPay Payment to NetSuite",
            "folder": "versapay/callable"
          },
          "request": {
            "versapay_payment_identifier": "#{_('data.versa_pay_arc_connector_36450_1556732749.cff5435b.payment_reference')}"
          }
        },
        "extended_input_schema": [
          {
            "type": "object",
            "name": "request",
            "label": "Recipe input",
            "properties": [
              {
                "control_type": "text",
                "label": "VersaPay Payment Identifier",
                "name": "versapay_payment_identifier",
                "type": "string",
                "optional": false,
                "parent": "request"
              }
            ]
          }
        ],
        "uuid": "cccf3745-4a59-4af9-ac4e-992b27d84347"
      }
    ],
    "job_report_schema": [
      {
        "name": "custom_column_1",
        "label": "Payment Reference"
      },
      {
        "name": "custom_column_2",
        "label": "Amount"
      },
      {
        "name": "custom_column_3",
        "label": "Invoices"
      }
    ],
    "job_report_config": {
      "custom_column_1": "#{_('data.versa_pay_arc_connector_36450_1556732749.cff5435b.payment_reference')}",
      "custom_column_2": "#{_('data.versa_pay_arc_connector_36450_1556732749.cff5435b.payment_amount')}",
      "custom_column_3": "=_('data.versa_pay_arc_connector_36450_1556732749.cff5435b.payment_amounts').pluck(\"invoice_number\").join(\", \")"
    },
    "uuid": "56716dd7-b6b7-49bf-a9ce-a3bdcc35df49"
  },
  "config": [
    {
      "keyword": "application",
      "provider": "versa_pay_arc_connector_36450_1556732749",
      "account_id": {
        "zip_name": "resources/versapay_arc.connection.json",
        "name": "VersaPay ARC",
        "folder": "resources",
        "custom": true
      }
    },
    {
      "keyword": "application",
      "provider": "workato_service",
      "account_id": null
    }
  ]
}